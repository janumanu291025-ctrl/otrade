import{s as za,n as rl,d as c,r as $l,a as z,m as n,i as lt,b as t,l as ct,c as o,e as f,o as G,g as h,f as y,h as i,j as v,t as E,p as Ma,C as Ua,z as ts,v as va,x as Oa,y as Ba,u as Ha,q as He,D as Re}from"../chunks/cb-04oXe.js";import{e as re}from"../chunks/D6DogDNs.js";import{S as Ra,i as Fa}from"../chunks/BeocxfxK.js";import{p as qt,c as qa}from"../chunks/C7KyscHc.js";function ga(s,e,l){const r=s.slice();return r[49]=e[l],r}function ma(s,e,l){const r=s.slice();return r[44]=e[l],r}function ba(s,e,l){const r=s.slice();return r[44]=e[l],r}function xa(s,e,l){const r=s.slice();return r[52]=e[l],r}function ya(s){let e,l=s[0].is_historical_mode?"üïí HISTORICAL":"üì° LIVE",r,u;return{c(){e=i("div"),r=E(l),this.h()},l(d){e=o(d,"DIV",{class:!0});var a=f(e);r=y(a,l),a.forEach(c),this.h()},h(){n(e,"class",u="px-4 py-2 rounded-lg font-semibold "+(s[0].is_historical_mode?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"))},m(d,a){lt(d,e,a),t(e,r)},p(d,a){a[0]&1&&l!==(l=d[0].is_historical_mode?"üïí HISTORICAL":"üì° LIVE")&&z(r,l),a[0]&1&&u!==(u="px-4 py-2 rounded-lg font-semibold "+(d[0].is_historical_mode?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"))&&n(e,"class",u)},d(d){d&&c(e)}}}function Ea(s){let e,l,r,u="‚ö†Ô∏è",d,a,p,m="Error",b,g,_,N,C,D="‚úï",j,S;return{c(){e=i("div"),l=i("div"),r=i("span"),r.textContent=u,d=v(),a=i("div"),p=i("h3"),p.textContent=m,b=v(),g=i("p"),_=E(s[3]),N=v(),C=i("button"),C.textContent=D,this.h()},l(x){e=o(x,"DIV",{class:!0});var I=f(e);l=o(I,"DIV",{class:!0});var T=f(l);r=o(T,"SPAN",{class:!0,"data-svelte-h":!0}),G(r)!=="svelte-nadfru"&&(r.textContent=u),d=h(T),a=o(T,"DIV",{class:!0});var V=f(a);p=o(V,"H3",{class:!0,"data-svelte-h":!0}),G(p)!=="svelte-al4mwe"&&(p.textContent=m),b=h(V),g=o(V,"P",{class:!0});var L=f(g);_=y(L,s[3]),L.forEach(c),V.forEach(c),N=h(T),C=o(T,"BUTTON",{class:!0,"data-svelte-h":!0}),G(C)!=="svelte-pxhpo0"&&(C.textContent=D),T.forEach(c),I.forEach(c),this.h()},h(){n(r,"class","text-red-600 text-xl"),n(p,"class","text-red-800 font-semibold"),n(g,"class","text-red-700 text-sm mt-1"),n(a,"class","flex-1"),n(C,"class","text-red-600 hover:text-red-800"),n(l,"class","flex items-start gap-3"),n(e,"class","bg-red-50 border border-red-200 rounded-lg p-4")},m(x,I){lt(x,e,I),t(e,l),t(l,r),t(l,d),t(l,a),t(a,p),t(a,b),t(a,g),t(g,_),t(l,N),t(l,C),j||(S=ct(C,"click",s[24]),j=!0)},p(x,I){I[0]&8&&z(_,x[3])},d(x){x&&c(e),j=!1,S()}}}function Ca(s){let e,l,r,u="Controls",d,a,p,m="Configuration",b,g,_,N,C,D='Manage configurations on the <a href="/config" class="text-blue-600 hover:underline font-semibold">Configuration</a> page.',j,S,x,I,T,V,L,B,U,Y,$,at,R=s[1].is_open?"üü¢ Market Open":"üî¥ Market Closed",Q,O,M,w,A,W,K="NIFTY 50 LTP",ot,et,X=(s[0].nifty_ltp?tt(s[0].nifty_ltp):"-")+"",rt,ht,it,ft,vt,gt=s[0].major_timeframe+"",Vt,xt,mt,P,J,Z,ut="Trend Status",dt,_t,yt=(s[0].major_trend||"-")+"",F,st,H,Et,Ct,Yt="Last Changed",Bt,St,zt=(s[0].major_trend_changed_at?jt(s[0].major_trend_changed_at):"-")+"",Ut,Ht,Pt,Nt,Fe="7 MA",Pe,Ot,qe=(s[0].major_ma7?tt(s[0].major_ma7):"-")+"",nl,es,ne,oe,js="20 MA",ls,Ne,Ye=(s[0].major_ma20?tt(s[0].major_ma20):"-")+"",ol,ss,Qt,Wt,as,Qe=s[0].minor_timeframe+"",il,rs,ns,At,ie,de,zs="Trend Status",os,ce,We=(s[0].minor_trend||"-")+"",dl,cl,is,ue,fe,Ms="Last Changed",ds,Se,Je=(s[0].minor_trend_changed_at?jt(s[0].minor_trend_changed_at):"-")+"",ul,cs,_e,pe,Us="7 MA",us,Ae,Ge=(s[0].minor_ma7?tt(s[0].minor_ma7):"-")+"",fl,fs,he,ve,Os="20 MA",_s,Le,Ke=(s[0].minor_ma20?tt(s[0].minor_ma20):"-")+"",_l,ps,Jt,ge,Bs="Active Positions",hs,je,Xe=(s[0].active_positions||0)+"",pl,hl,Rt,me,Hs="Performance",vs,pt,Gt,be,Rs="Initial Capital",gs,ze,Ze=tt(s[0].initial_capital)+"",vl,ms,Kt,xe,Fs="Current Capital",bs,Me,$e=tt(s[0].current_capital)+"",gl,xs,Xt,ye,qs="Total Trades",ys,Ue,tl=s[2].total_trades+"",ml,Es,Zt,Ee,Ys="Realized P&L",Cs,Ce,el=tt(s[2].realized_pnl)+"",bl,xl,ks,$t,ke,Qs="Unrealized P&L",Ds,De,ll=tt(s[2].unrealized_pnl)+"",yl,El,Is,te,Ie,Ws="Total P&L",Ts,Te,sl=tt(s[2].total_pnl)+"",Cl,kl,Vs,ee,Ve,Js="Win Rate",ws,we,al=s[2].win_rate+"",Dl,Ps,Ns,Gs,Oe=re(s[8]),bt=[];for(let k=0;k<Oe.length;k+=1)bt[k]=ka(xa(s,Oe,k));function Ks(k,q){if(!k[0].running)return Qa;if(k[0].is_historical_mode)return Ya}let Be=Ks(s),kt=Be&&Be(s);function Xs(k,q){return k[0].running?k[0].status==="paused"?Ka:Ga:Xa}let Il=Xs(s),Mt=Il(s),Dt=s[0].running&&Ta(s),It=s[0].running&&Va(s),Tt=s[0].running&&s[0].last_update&&wa(s);return{c(){e=i("div"),l=i("div"),r=i("h2"),r.textContent=u,d=v(),a=i("div"),p=i("label"),p.textContent=m,b=v(),g=i("select");for(let k=0;k<bt.length;k+=1)bt[k].c();N=v(),C=i("p"),C.innerHTML=D,j=v(),kt&&kt.c(),S=v(),x=i("div"),Mt.c(),I=v(),Dt&&Dt.c(),T=v(),It&&It.c(),V=v(),L=i("div"),B=i("div"),U=i("h2"),Y=E(`Market Data
						`),Tt&&Tt.c(),$=v(),at=i("div"),Q=E(R),M=v(),w=i("div"),A=i("div"),W=i("div"),W.textContent=K,ot=v(),et=i("div"),rt=E(X),ht=v(),it=i("div"),ft=i("div"),vt=E("Major Trend ("),Vt=E(gt),xt=E(")"),mt=v(),P=i("div"),J=i("div"),Z=i("div"),Z.textContent=ut,dt=v(),_t=i("div"),F=E(yt),H=v(),Et=i("div"),Ct=i("div"),Ct.textContent=Yt,Bt=v(),St=i("div"),Ut=E(zt),Ht=v(),Pt=i("div"),Nt=i("div"),Nt.textContent=Fe,Pe=v(),Ot=i("div"),nl=E(qe),es=v(),ne=i("div"),oe=i("div"),oe.textContent=js,ls=v(),Ne=i("div"),ol=E(Ye),ss=v(),Qt=i("div"),Wt=i("div"),as=E("Minor Trend ("),il=E(Qe),rs=E(")"),ns=v(),At=i("div"),ie=i("div"),de=i("div"),de.textContent=zs,os=v(),ce=i("div"),dl=E(We),is=v(),ue=i("div"),fe=i("div"),fe.textContent=Ms,ds=v(),Se=i("div"),ul=E(Je),cs=v(),_e=i("div"),pe=i("div"),pe.textContent=Us,us=v(),Ae=i("div"),fl=E(Ge),fs=v(),he=i("div"),ve=i("div"),ve.textContent=Os,_s=v(),Le=i("div"),_l=E(Ke),ps=v(),Jt=i("div"),ge=i("div"),ge.textContent=Bs,hs=v(),je=i("div"),pl=E(Xe),hl=v(),Rt=i("div"),me=i("h2"),me.textContent=Hs,vs=v(),pt=i("div"),Gt=i("div"),be=i("div"),be.textContent=Rs,gs=v(),ze=i("div"),vl=E(Ze),ms=v(),Kt=i("div"),xe=i("div"),xe.textContent=Fs,bs=v(),Me=i("div"),gl=E($e),xs=v(),Xt=i("div"),ye=i("div"),ye.textContent=qs,ys=v(),Ue=i("div"),ml=E(tl),Es=v(),Zt=i("div"),Ee=i("div"),Ee.textContent=Ys,Cs=v(),Ce=i("div"),bl=E(el),ks=v(),$t=i("div"),ke=i("div"),ke.textContent=Qs,Ds=v(),De=i("div"),yl=E(ll),Is=v(),te=i("div"),Ie=i("div"),Ie.textContent=Ws,Ts=v(),Te=i("div"),Cl=E(sl),Vs=v(),ee=i("div"),Ve=i("div"),Ve.textContent=Js,ws=v(),we=i("div"),Dl=E(al),Ps=E("%"),this.h()},l(k){e=o(k,"DIV",{class:!0});var q=f(e);l=o(q,"DIV",{class:!0});var nt=f(l);r=o(nt,"H2",{class:!0,"data-svelte-h":!0}),G(r)!=="svelte-1mjetow"&&(r.textContent=u),d=h(nt),a=o(nt,"DIV",{class:!0});var Ft=f(a);p=o(Ft,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),G(p)!=="svelte-bdv5vt"&&(p.textContent=m),b=h(Ft),g=o(Ft,"SELECT",{id:!0,class:!0});var Zs=f(g);for(let Ls=0;Ls<bt.length;Ls+=1)bt[Ls].l(Zs);Zs.forEach(c),N=h(Ft),C=o(Ft,"P",{class:!0,"data-svelte-h":!0}),G(C)!=="svelte-pzt8x3"&&(C.innerHTML=D),Ft.forEach(c),j=h(nt),kt&&kt.l(nt),S=h(nt),x=o(nt,"DIV",{class:!0});var Tl=f(x);Mt.l(Tl),I=h(Tl),Dt&&Dt.l(Tl),Tl.forEach(c),T=h(nt),It&&It.l(nt),nt.forEach(c),V=h(q),L=o(q,"DIV",{class:!0});var Vl=f(L);B=o(Vl,"DIV",{class:!0});var wl=f(B);U=o(wl,"H2",{class:!0});var Ss=f(U);Y=y(Ss,`Market Data
						`),Tt&&Tt.l(Ss),Ss.forEach(c),$=h(wl),at=o(wl,"DIV",{class:!0});var $s=f(at);Q=y($s,R),$s.forEach(c),wl.forEach(c),M=h(Vl),w=o(Vl,"DIV",{class:!0});var le=f(w);A=o(le,"DIV",{class:!0});var Pl=f(A);W=o(Pl,"DIV",{class:!0,"data-svelte-h":!0}),G(W)!=="svelte-hf8bux"&&(W.textContent=K),ot=h(Pl),et=o(Pl,"DIV",{class:!0});var ta=f(et);rt=y(ta,X),ta.forEach(c),Pl.forEach(c),ht=h(le),it=o(le,"DIV",{class:!0});var Nl=f(it);ft=o(Nl,"DIV",{class:!0});var Sl=f(ft);vt=y(Sl,"Major Trend ("),Vt=y(Sl,gt),xt=y(Sl,")"),Sl.forEach(c),mt=h(Nl),P=o(Nl,"DIV",{class:!0});var se=f(P);J=o(se,"DIV",{});var Al=f(J);Z=o(Al,"DIV",{class:!0,"data-svelte-h":!0}),G(Z)!=="svelte-1o115vw"&&(Z.textContent=ut),dt=h(Al),_t=o(Al,"DIV",{class:!0});var ea=f(_t);F=y(ea,yt),ea.forEach(c),Al.forEach(c),H=h(se),Et=o(se,"DIV",{});var Ll=f(Et);Ct=o(Ll,"DIV",{class:!0,"data-svelte-h":!0}),G(Ct)!=="svelte-1tm194n"&&(Ct.textContent=Yt),Bt=h(Ll),St=o(Ll,"DIV",{class:!0});var la=f(St);Ut=y(la,zt),la.forEach(c),Ll.forEach(c),Ht=h(se),Pt=o(se,"DIV",{});var jl=f(Pt);Nt=o(jl,"DIV",{class:!0,"data-svelte-h":!0}),G(Nt)!=="svelte-2d4e72"&&(Nt.textContent=Fe),Pe=h(jl),Ot=o(jl,"DIV",{class:!0});var sa=f(Ot);nl=y(sa,qe),sa.forEach(c),jl.forEach(c),es=h(se),ne=o(se,"DIV",{});var zl=f(ne);oe=o(zl,"DIV",{class:!0,"data-svelte-h":!0}),G(oe)!=="svelte-1hkj361"&&(oe.textContent=js),ls=h(zl),Ne=o(zl,"DIV",{class:!0});var aa=f(Ne);ol=y(aa,Ye),aa.forEach(c),zl.forEach(c),se.forEach(c),Nl.forEach(c),ss=h(le),Qt=o(le,"DIV",{class:!0});var Ml=f(Qt);Wt=o(Ml,"DIV",{class:!0});var Ul=f(Wt);as=y(Ul,"Minor Trend ("),il=y(Ul,Qe),rs=y(Ul,")"),Ul.forEach(c),ns=h(Ml),At=o(Ml,"DIV",{class:!0});var ae=f(At);ie=o(ae,"DIV",{});var Ol=f(ie);de=o(Ol,"DIV",{class:!0,"data-svelte-h":!0}),G(de)!=="svelte-f44lij"&&(de.textContent=zs),os=h(Ol),ce=o(Ol,"DIV",{class:!0});var ra=f(ce);dl=y(ra,We),ra.forEach(c),Ol.forEach(c),is=h(ae),ue=o(ae,"DIV",{});var Bl=f(ue);fe=o(Bl,"DIV",{class:!0,"data-svelte-h":!0}),G(fe)!=="svelte-n05me2"&&(fe.textContent=Ms),ds=h(Bl),Se=o(Bl,"DIV",{class:!0});var na=f(Se);ul=y(na,Je),na.forEach(c),Bl.forEach(c),cs=h(ae),_e=o(ae,"DIV",{});var Hl=f(_e);pe=o(Hl,"DIV",{class:!0,"data-svelte-h":!0}),G(pe)!=="svelte-nl7vkh"&&(pe.textContent=Us),us=h(Hl),Ae=o(Hl,"DIV",{class:!0});var oa=f(Ae);fl=y(oa,Ge),oa.forEach(c),Hl.forEach(c),fs=h(ae),he=o(ae,"DIV",{});var Rl=f(he);ve=o(Rl,"DIV",{class:!0,"data-svelte-h":!0}),G(ve)!=="svelte-saskzk"&&(ve.textContent=Os),_s=h(Rl),Le=o(Rl,"DIV",{class:!0});var ia=f(Le);_l=y(ia,Ke),ia.forEach(c),Rl.forEach(c),ae.forEach(c),Ml.forEach(c),ps=h(le),Jt=o(le,"DIV",{class:!0});var Fl=f(Jt);ge=o(Fl,"DIV",{class:!0,"data-svelte-h":!0}),G(ge)!=="svelte-15didq4"&&(ge.textContent=Bs),hs=h(Fl),je=o(Fl,"DIV",{class:!0});var da=f(je);pl=y(da,Xe),da.forEach(c),Fl.forEach(c),le.forEach(c),Vl.forEach(c),q.forEach(c),hl=h(k),Rt=o(k,"DIV",{class:!0});var ql=f(Rt);me=o(ql,"H2",{class:!0,"data-svelte-h":!0}),G(me)!=="svelte-2m5op8"&&(me.textContent=Hs),vs=h(ql),pt=o(ql,"DIV",{class:!0});var wt=f(pt);Gt=o(wt,"DIV",{class:!0});var Yl=f(Gt);be=o(Yl,"DIV",{class:!0,"data-svelte-h":!0}),G(be)!=="svelte-1cqie0c"&&(be.textContent=Rs),gs=h(Yl),ze=o(Yl,"DIV",{class:!0});var ca=f(ze);vl=y(ca,Ze),ca.forEach(c),Yl.forEach(c),ms=h(wt),Kt=o(wt,"DIV",{class:!0});var Ql=f(Kt);xe=o(Ql,"DIV",{class:!0,"data-svelte-h":!0}),G(xe)!=="svelte-orciir"&&(xe.textContent=Fs),bs=h(Ql),Me=o(Ql,"DIV",{class:!0});var ua=f(Me);gl=y(ua,$e),ua.forEach(c),Ql.forEach(c),xs=h(wt),Xt=o(wt,"DIV",{class:!0});var Wl=f(Xt);ye=o(Wl,"DIV",{class:!0,"data-svelte-h":!0}),G(ye)!=="svelte-1btd1ev"&&(ye.textContent=qs),ys=h(Wl),Ue=o(Wl,"DIV",{class:!0});var fa=f(Ue);ml=y(fa,tl),fa.forEach(c),Wl.forEach(c),Es=h(wt),Zt=o(wt,"DIV",{class:!0});var Jl=f(Zt);Ee=o(Jl,"DIV",{class:!0,"data-svelte-h":!0}),G(Ee)!=="svelte-10n7ux2"&&(Ee.textContent=Ys),Cs=h(Jl),Ce=o(Jl,"DIV",{class:!0});var _a=f(Ce);bl=y(_a,el),_a.forEach(c),Jl.forEach(c),ks=h(wt),$t=o(wt,"DIV",{class:!0});var Gl=f($t);ke=o(Gl,"DIV",{class:!0,"data-svelte-h":!0}),G(ke)!=="svelte-1u7d9cd"&&(ke.textContent=Qs),Ds=h(Gl),De=o(Gl,"DIV",{class:!0});var pa=f(De);yl=y(pa,ll),pa.forEach(c),Gl.forEach(c),Is=h(wt),te=o(wt,"DIV",{class:!0});var Kl=f(te);Ie=o(Kl,"DIV",{class:!0,"data-svelte-h":!0}),G(Ie)!=="svelte-15zx8ok"&&(Ie.textContent=Ws),Ts=h(Kl),Te=o(Kl,"DIV",{class:!0});var ha=f(Te);Cl=y(ha,sl),ha.forEach(c),Kl.forEach(c),Vs=h(wt),ee=o(wt,"DIV",{class:!0});var Xl=f(ee);Ve=o(Xl,"DIV",{class:!0,"data-svelte-h":!0}),G(Ve)!=="svelte-1o6kdim"&&(Ve.textContent=Js),ws=h(Xl),we=o(Xl,"DIV",{class:!0});var As=f(we);Dl=y(As,al),Ps=y(As,"%"),As.forEach(c),Xl.forEach(c),wt.forEach(c),ql.forEach(c),this.h()},h(){n(r,"class","text-xl font-bold mb-4"),n(p,"for","config-select"),n(p,"class","block text-sm font-medium text-gray-700 mb-2"),n(g,"id","config-select"),g.disabled=_=s[0].running,n(g,"class","w-full px-4 py-2 border rounded-lg disabled:bg-gray-100"),s[9]===void 0&&Oa(()=>s[25].call(g)),n(C,"class","text-xs text-gray-600 mt-2"),n(a,"class","mb-4"),n(x,"class","space-y-2"),n(l,"class","bg-white rounded-lg shadow-md p-6"),n(U,"class","text-xl font-bold"),n(at,"class",O="text-sm font-medium "+(s[1].is_open?"text-green-600":"text-gray-500")),n(B,"class","flex justify-between items-center mb-4"),n(W,"class","text-sm text-gray-600 mb-1"),n(et,"class","text-2xl font-bold"),n(A,"class","bg-blue-50 rounded-lg p-4"),n(ft,"class","text-sm font-semibold text-purple-900 mb-3"),n(Z,"class","text-xs text-purple-700 mb-1"),n(_t,"class",st="text-lg font-bold "+Zl(s[0].major_trend)),n(Ct,"class","text-xs text-purple-700 mb-1"),n(St,"class","text-sm font-medium text-purple-900"),n(Nt,"class","text-xs text-purple-700 mb-1"),n(Ot,"class","text-sm font-bold text-purple-900"),n(oe,"class","text-xs text-purple-700 mb-1"),n(Ne,"class","text-sm font-bold text-purple-900"),n(P,"class","grid grid-cols-2 gap-3"),n(it,"class","bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg p-4 border border-purple-200"),n(Wt,"class","text-sm font-semibold text-green-900 mb-3"),n(de,"class","text-xs text-green-700 mb-1"),n(ce,"class",cl="text-lg font-bold "+Zl(s[0].minor_trend)),n(fe,"class","text-xs text-green-700 mb-1"),n(Se,"class","text-sm font-medium text-green-900"),n(pe,"class","text-xs text-green-700 mb-1"),n(Ae,"class","text-sm font-bold text-green-900"),n(ve,"class","text-xs text-green-700 mb-1"),n(Le,"class","text-sm font-bold text-green-900"),n(At,"class","grid grid-cols-2 gap-3"),n(Qt,"class","bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-4 border border-green-200"),n(ge,"class","text-sm text-gray-600 mb-1"),n(je,"class","text-2xl font-bold text-purple-600"),n(Jt,"class","bg-purple-50 rounded-lg p-4"),n(w,"class","grid grid-cols-1 gap-4"),n(L,"class","lg:col-span-2 bg-white rounded-lg shadow-md p-6"),n(e,"class","grid grid-cols-1 lg:grid-cols-3 gap-6"),n(me,"class","text-xl font-bold mb-4"),n(be,"class","text-sm text-gray-600 mb-1"),n(ze,"class","text-lg font-bold"),n(Gt,"class","bg-gray-50 rounded-lg p-4"),n(xe,"class","text-sm text-gray-600 mb-1"),n(Me,"class","text-lg font-bold text-blue-600"),n(Kt,"class","bg-blue-50 rounded-lg p-4"),n(ye,"class","text-sm text-gray-600 mb-1"),n(Ue,"class","text-lg font-bold text-purple-600"),n(Xt,"class","bg-purple-50 rounded-lg p-4"),n(Ee,"class","text-sm text-gray-600 mb-1"),n(Ce,"class",xl="text-lg font-bold "+Lt(s[2].realized_pnl)),n(Zt,"class","bg-gray-50 rounded-lg p-4"),n(ke,"class","text-sm text-gray-600 mb-1"),n(De,"class",El="text-lg font-bold "+Lt(s[2].unrealized_pnl)),n($t,"class","bg-gray-50 rounded-lg p-4"),n(Ie,"class","text-sm text-gray-600 mb-1"),n(Te,"class",kl="text-lg font-bold "+Lt(s[2].total_pnl)),n(te,"class","bg-gray-50 rounded-lg p-4"),n(Ve,"class","text-sm text-gray-600 mb-1"),n(we,"class","text-lg font-bold text-gray-900"),n(ee,"class","bg-gray-50 rounded-lg p-4"),n(pt,"class","grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-4"),n(Rt,"class","bg-white rounded-lg shadow-md p-6")},m(k,q){lt(k,e,q),t(e,l),t(l,r),t(l,d),t(l,a),t(a,p),t(a,b),t(a,g);for(let nt=0;nt<bt.length;nt+=1)bt[nt]&&bt[nt].m(g,null);va(g,s[9],!0),t(a,N),t(a,C),t(l,j),kt&&kt.m(l,null),t(l,S),t(l,x),Mt.m(x,null),t(x,I),Dt&&Dt.m(x,null),t(l,T),It&&It.m(l,null),t(e,V),t(e,L),t(L,B),t(B,U),t(U,Y),Tt&&Tt.m(U,null),t(B,$),t(B,at),t(at,Q),t(L,M),t(L,w),t(w,A),t(A,W),t(A,ot),t(A,et),t(et,rt),t(w,ht),t(w,it),t(it,ft),t(ft,vt),t(ft,Vt),t(ft,xt),t(it,mt),t(it,P),t(P,J),t(J,Z),t(J,dt),t(J,_t),t(_t,F),t(P,H),t(P,Et),t(Et,Ct),t(Et,Bt),t(Et,St),t(St,Ut),t(P,Ht),t(P,Pt),t(Pt,Nt),t(Pt,Pe),t(Pt,Ot),t(Ot,nl),t(P,es),t(P,ne),t(ne,oe),t(ne,ls),t(ne,Ne),t(Ne,ol),t(w,ss),t(w,Qt),t(Qt,Wt),t(Wt,as),t(Wt,il),t(Wt,rs),t(Qt,ns),t(Qt,At),t(At,ie),t(ie,de),t(ie,os),t(ie,ce),t(ce,dl),t(At,is),t(At,ue),t(ue,fe),t(ue,ds),t(ue,Se),t(Se,ul),t(At,cs),t(At,_e),t(_e,pe),t(_e,us),t(_e,Ae),t(Ae,fl),t(At,fs),t(At,he),t(he,ve),t(he,_s),t(he,Le),t(Le,_l),t(w,ps),t(w,Jt),t(Jt,ge),t(Jt,hs),t(Jt,je),t(je,pl),lt(k,hl,q),lt(k,Rt,q),t(Rt,me),t(Rt,vs),t(Rt,pt),t(pt,Gt),t(Gt,be),t(Gt,gs),t(Gt,ze),t(ze,vl),t(pt,ms),t(pt,Kt),t(Kt,xe),t(Kt,bs),t(Kt,Me),t(Me,gl),t(pt,xs),t(pt,Xt),t(Xt,ye),t(Xt,ys),t(Xt,Ue),t(Ue,ml),t(pt,Es),t(pt,Zt),t(Zt,Ee),t(Zt,Cs),t(Zt,Ce),t(Ce,bl),t(pt,ks),t(pt,$t),t($t,ke),t($t,Ds),t($t,De),t(De,yl),t(pt,Is),t(pt,te),t(te,Ie),t(te,Ts),t(te,Te),t(Te,Cl),t(pt,Vs),t(pt,ee),t(ee,Ve),t(ee,ws),t(ee,we),t(we,Dl),t(we,Ps),Ns||(Gs=ct(g,"change",s[25]),Ns=!0)},p(k,q){if(q[0]&256){Oe=re(k[8]);let nt;for(nt=0;nt<Oe.length;nt+=1){const Ft=xa(k,Oe,nt);bt[nt]?bt[nt].p(Ft,q):(bt[nt]=ka(Ft),bt[nt].c(),bt[nt].m(g,null))}for(;nt<bt.length;nt+=1)bt[nt].d(1);bt.length=Oe.length}q[0]&1&&_!==(_=k[0].running)&&(g.disabled=_),q[0]&768&&va(g,k[9]),Be===(Be=Ks(k))&&kt?kt.p(k,q):(kt&&kt.d(1),kt=Be&&Be(k),kt&&(kt.c(),kt.m(l,S))),Il===(Il=Xs(k))&&Mt?Mt.p(k,q):(Mt.d(1),Mt=Il(k),Mt&&(Mt.c(),Mt.m(x,I))),k[0].running?Dt?Dt.p(k,q):(Dt=Ta(k),Dt.c(),Dt.m(x,null)):Dt&&(Dt.d(1),Dt=null),k[0].running?It?It.p(k,q):(It=Va(k),It.c(),It.m(l,null)):It&&(It.d(1),It=null),k[0].running&&k[0].last_update?Tt?Tt.p(k,q):(Tt=wa(k),Tt.c(),Tt.m(U,null)):Tt&&(Tt.d(1),Tt=null),q[0]&2&&R!==(R=k[1].is_open?"üü¢ Market Open":"üî¥ Market Closed")&&z(Q,R),q[0]&2&&O!==(O="text-sm font-medium "+(k[1].is_open?"text-green-600":"text-gray-500"))&&n(at,"class",O),q[0]&1&&X!==(X=(k[0].nifty_ltp?tt(k[0].nifty_ltp):"-")+"")&&z(rt,X),q[0]&1&&gt!==(gt=k[0].major_timeframe+"")&&z(Vt,gt),q[0]&1&&yt!==(yt=(k[0].major_trend||"-")+"")&&z(F,yt),q[0]&1&&st!==(st="text-lg font-bold "+Zl(k[0].major_trend))&&n(_t,"class",st),q[0]&1&&zt!==(zt=(k[0].major_trend_changed_at?jt(k[0].major_trend_changed_at):"-")+"")&&z(Ut,zt),q[0]&1&&qe!==(qe=(k[0].major_ma7?tt(k[0].major_ma7):"-")+"")&&z(nl,qe),q[0]&1&&Ye!==(Ye=(k[0].major_ma20?tt(k[0].major_ma20):"-")+"")&&z(ol,Ye),q[0]&1&&Qe!==(Qe=k[0].minor_timeframe+"")&&z(il,Qe),q[0]&1&&We!==(We=(k[0].minor_trend||"-")+"")&&z(dl,We),q[0]&1&&cl!==(cl="text-lg font-bold "+Zl(k[0].minor_trend))&&n(ce,"class",cl),q[0]&1&&Je!==(Je=(k[0].minor_trend_changed_at?jt(k[0].minor_trend_changed_at):"-")+"")&&z(ul,Je),q[0]&1&&Ge!==(Ge=(k[0].minor_ma7?tt(k[0].minor_ma7):"-")+"")&&z(fl,Ge),q[0]&1&&Ke!==(Ke=(k[0].minor_ma20?tt(k[0].minor_ma20):"-")+"")&&z(_l,Ke),q[0]&1&&Xe!==(Xe=(k[0].active_positions||0)+"")&&z(pl,Xe),q[0]&1&&Ze!==(Ze=tt(k[0].initial_capital)+"")&&z(vl,Ze),q[0]&1&&$e!==($e=tt(k[0].current_capital)+"")&&z(gl,$e),q[0]&4&&tl!==(tl=k[2].total_trades+"")&&z(ml,tl),q[0]&4&&el!==(el=tt(k[2].realized_pnl)+"")&&z(bl,el),q[0]&4&&xl!==(xl="text-lg font-bold "+Lt(k[2].realized_pnl))&&n(Ce,"class",xl),q[0]&4&&ll!==(ll=tt(k[2].unrealized_pnl)+"")&&z(yl,ll),q[0]&4&&El!==(El="text-lg font-bold "+Lt(k[2].unrealized_pnl))&&n(De,"class",El),q[0]&4&&sl!==(sl=tt(k[2].total_pnl)+"")&&z(Cl,sl),q[0]&4&&kl!==(kl="text-lg font-bold "+Lt(k[2].total_pnl))&&n(Te,"class",kl),q[0]&4&&al!==(al=k[2].win_rate+"")&&z(Dl,al)},d(k){k&&(c(e),c(hl),c(Rt)),ts(bt,k),kt&&kt.d(),Mt.d(),Dt&&Dt.d(),It&&It.d(),Tt&&Tt.d(),Ns=!1,Gs()}}}function ka(s){let e,l=s[52].name+"",r,u;return{c(){e=i("option"),r=E(l),this.h()},l(d){e=o(d,"OPTION",{});var a=f(e);r=y(a,l),a.forEach(c),this.h()},h(){e.__value=u=s[52].id,He(e,e.__value)},m(d,a){lt(d,e,a),t(e,r)},p(d,a){a[0]&256&&l!==(l=d[52].name+"")&&z(r,l),a[0]&256&&u!==(u=d[52].id)&&(e.__value=u,He(e,e.__value))},d(d){d&&c(e)}}}function Ya(s){let e,l,r,u="üïí",d,a,p,m="Historical Simulation Active",b,g,_,N,C;return{c(){e=i("div"),l=i("div"),r=i("span"),r.textContent=u,d=v(),a=i("div"),p=i("p"),p.textContent=m,b=v(),g=i("p"),_=E("Replaying historical market data at "),N=E(s[11]),C=E("x speed"),this.h()},l(D){e=o(D,"DIV",{class:!0});var j=f(e);l=o(j,"DIV",{class:!0});var S=f(l);r=o(S,"SPAN",{class:!0,"data-svelte-h":!0}),G(r)!=="svelte-1v87twh"&&(r.textContent=u),d=h(S),a=o(S,"DIV",{class:!0});var x=f(a);p=o(x,"P",{class:!0,"data-svelte-h":!0}),G(p)!=="svelte-rcjkid"&&(p.textContent=m),b=h(x),g=o(x,"P",{class:!0});var I=f(g);_=y(I,"Replaying historical market data at "),N=y(I,s[11]),C=y(I,"x speed"),I.forEach(c),x.forEach(c),S.forEach(c),j.forEach(c),this.h()},h(){n(r,"class","text-lg"),n(p,"class","text-sm font-medium text-purple-900"),n(g,"class","text-xs text-purple-700"),n(a,"class","flex-1"),n(l,"class","flex items-center gap-2"),n(e,"class","mb-4 p-3 bg-purple-50 border border-purple-200 rounded-lg")},m(D,j){lt(D,e,j),t(e,l),t(l,r),t(l,d),t(l,a),t(a,p),t(a,b),t(a,g),t(g,_),t(g,N),t(g,C)},p(D,j){j[0]&2048&&z(N,D[11])},d(D){D&&c(e)}}}function Qa(s){let e,l,r,u,d,a,p,m="Enable Historical Simulation",b,g,_,N,C,D;function j(V,L){return V[1].is_open?Ja:Wa}let S=j(s),x=S(s),I=!s[1].is_trading_day&&s[1].next_trading_day&&Da(s),T=s[10]&&!s[1].is_open&&Ia(s);return{c(){e=i("div"),l=i("label"),r=i("input"),d=v(),a=i("div"),p=i("span"),p.textContent=m,b=v(),g=i("p"),x.c(),_=v(),I&&I.c(),N=v(),T&&T.c(),this.h()},l(V){e=o(V,"DIV",{class:!0});var L=f(e);l=o(L,"LABEL",{class:!0});var B=f(l);r=o(B,"INPUT",{type:!0,class:!0}),d=h(B),a=o(B,"DIV",{class:!0});var U=f(a);p=o(U,"SPAN",{class:!0,"data-svelte-h":!0}),G(p)!=="svelte-x0okoj"&&(p.textContent=m),b=h(U),g=o(U,"P",{class:!0});var Y=f(g);x.l(Y),Y.forEach(c),_=h(U),I&&I.l(U),U.forEach(c),B.forEach(c),N=h(L),T&&T.l(L),L.forEach(c),this.h()},h(){n(r,"type","checkbox"),r.disabled=u=s[1].is_open,n(r,"class","w-5 h-5 mt-0.5"),n(p,"class","text-sm font-medium text-gray-900"),n(g,"class","text-xs text-gray-600 mt-1"),n(a,"class","flex-1"),n(l,"class","flex items-start gap-3 cursor-pointer"),n(e,"class","mb-4 p-4 bg-gray-50 rounded-lg border border-gray-200")},m(V,L){lt(V,e,L),t(e,l),t(l,r),r.checked=s[10],t(l,d),t(l,a),t(a,p),t(a,b),t(a,g),x.m(g,null),t(a,_),I&&I.m(a,null),t(e,N),T&&T.m(e,null),C||(D=ct(r,"change",s[26]),C=!0)},p(V,L){L[0]&2&&u!==(u=V[1].is_open)&&(r.disabled=u),L[0]&1024&&(r.checked=V[10]),S!==(S=j(V))&&(x.d(1),x=S(V),x&&(x.c(),x.m(g,null))),!V[1].is_trading_day&&V[1].next_trading_day?I?I.p(V,L):(I=Da(V),I.c(),I.m(a,null)):I&&(I.d(1),I=null),V[10]&&!V[1].is_open?T?T.p(V,L):(T=Ia(V),T.c(),T.m(e,null)):T&&(T.d(1),T=null)},d(V){V&&c(e),x.d(),I&&I.d(),T&&T.d(),C=!1,D()}}}function Wa(s){let e;return{c(){e=E("Replay historical market data for practice (Market is closed)")},l(l){e=y(l,"Replay historical market data for practice (Market is closed)")},m(l,r){lt(l,e,r)},d(l){l&&c(e)}}}function Ja(s){let e;return{c(){e=E("Market is currently open - Historical mode unavailable")},l(l){e=y(l,"Market is currently open - Historical mode unavailable")},m(l,r){lt(l,e,r)},d(l){l&&c(e)}}}function Da(s){let e,l,r=s[1].next_trading_day+"",u;return{c(){e=i("p"),l=E("Next trading day: "),u=E(r),this.h()},l(d){e=o(d,"P",{class:!0});var a=f(e);l=y(a,"Next trading day: "),u=y(a,r),a.forEach(c),this.h()},h(){n(e,"class","text-xs text-purple-600 mt-1")},m(d,a){lt(d,e,a),t(e,l),t(e,u)},p(d,a){a[0]&2&&r!==(r=d[1].next_trading_day+"")&&z(u,r)},d(d){d&&c(e)}}}function Ia(s){let e,l,r,u,d,a,p,m,b,g,_,N="0.5x",C,D,j="1.0x",S,x,I="2.0x",T,V,L="Adjust replay speed: 0.5x = half speed, 1.0x = real-time, 2.0x = double speed",B,U,Y,$="Select Date for Historical Data",at,R,Q,O,M="Choose a trading day to replay. Leave empty for yesterday's data.",w,A;return{c(){e=i("div"),l=i("label"),r=E("Replay Speed: "),u=E(s[11]),d=E("x"),a=v(),p=i("div"),m=i("input"),b=v(),g=i("div"),_=i("button"),_.textContent=N,C=v(),D=i("button"),D.textContent=j,S=v(),x=i("button"),x.textContent=I,T=v(),V=i("p"),V.textContent=L,B=v(),U=i("div"),Y=i("label"),Y.textContent=$,at=v(),R=i("input"),Q=v(),O=i("p"),O.textContent=M,this.h()},l(W){e=o(W,"DIV",{class:!0});var K=f(e);l=o(K,"LABEL",{for:!0,class:!0});var ot=f(l);r=y(ot,"Replay Speed: "),u=y(ot,s[11]),d=y(ot,"x"),ot.forEach(c),a=h(K),p=o(K,"DIV",{class:!0});var et=f(p);m=o(et,"INPUT",{id:!0,type:!0,min:!0,max:!0,step:!0,class:!0}),b=h(et),g=o(et,"DIV",{class:!0});var X=f(g);_=o(X,"BUTTON",{class:!0,"data-svelte-h":!0}),G(_)!=="svelte-qizzjt"&&(_.textContent=N),C=h(X),D=o(X,"BUTTON",{class:!0,"data-svelte-h":!0}),G(D)!=="svelte-ra29p8"&&(D.textContent=j),S=h(X),x=o(X,"BUTTON",{class:!0,"data-svelte-h":!0}),G(x)!=="svelte-io1s4n"&&(x.textContent=I),X.forEach(c),et.forEach(c),T=h(K),V=o(K,"P",{class:!0,"data-svelte-h":!0}),G(V)!=="svelte-1mh0751"&&(V.textContent=L),K.forEach(c),B=h(W),U=o(W,"DIV",{class:!0});var rt=f(U);Y=o(rt,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),G(Y)!=="svelte-1vrdocz"&&(Y.textContent=$),at=h(rt),R=o(rt,"INPUT",{id:!0,type:!0,max:!0,class:!0}),Q=h(rt),O=o(rt,"P",{class:!0,"data-svelte-h":!0}),G(O)!=="svelte-m5wdtp"&&(O.textContent=M),rt.forEach(c),this.h()},h(){n(l,"for","replay-speed"),n(l,"class","block text-sm font-medium text-gray-700 mb-2"),n(m,"id","replay-speed"),n(m,"type","range"),n(m,"min","0.1"),n(m,"max","5.0"),n(m,"step","0.1"),n(m,"class","flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"),n(_,"class","px-3 py-1 text-xs bg-gray-200 hover:bg-gray-300 rounded"),n(D,"class","px-3 py-1 text-xs bg-blue-600 text-white hover:bg-blue-700 rounded"),n(x,"class","px-3 py-1 text-xs bg-gray-200 hover:bg-gray-300 rounded"),n(g,"class","flex gap-2"),n(p,"class","flex items-center gap-4"),n(V,"class","text-xs text-gray-500 mt-1"),n(e,"class","mt-4 pt-4 border-t border-gray-200"),n(Y,"for","historical-date"),n(Y,"class","block text-sm font-medium text-gray-700 mb-2"),n(R,"id","historical-date"),n(R,"type","date"),n(R,"max",new Date().toISOString().split("T")[0]),n(R,"class","w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"),n(O,"class","text-xs text-gray-500 mt-1"),n(U,"class","mt-4 pt-4 border-t border-gray-200")},m(W,K){lt(W,e,K),t(e,l),t(l,r),t(l,u),t(l,d),t(e,a),t(e,p),t(p,m),He(m,s[11]),t(p,b),t(p,g),t(g,_),t(g,C),t(g,D),t(g,S),t(g,x),t(e,T),t(e,V),lt(W,B,K),lt(W,U,K),t(U,Y),t(U,at),t(U,R),He(R,s[12]),t(U,Q),t(U,O),w||(A=[ct(m,"change",s[27]),ct(m,"input",s[27]),ct(_,"click",s[28]),ct(D,"click",s[29]),ct(x,"click",s[30]),ct(R,"input",s[31])],w=!0)},p(W,K){K[0]&2048&&z(u,W[11]),K[0]&2048&&He(m,W[11]),K[0]&4096&&He(R,W[12])},d(W){W&&(c(e),c(B),c(U)),w=!1,$l(A)}}}function Ga(s){let e,l,r,u;return{c(){e=i("button"),l=E("‚è∏ Pause"),this.h()},l(d){e=o(d,"BUTTON",{class:!0});var a=f(e);l=y(a,"‚è∏ Pause"),a.forEach(c),this.h()},h(){e.disabled=s[4],n(e,"class","w-full px-4 py-3 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 font-semibold")},m(d,a){lt(d,e,a),t(e,l),r||(u=ct(e,"click",s[17]),r=!0)},p(d,a){a[0]&16&&(e.disabled=d[4])},d(d){d&&c(e),r=!1,u()}}}function Ka(s){let e,l,r,u;return{c(){e=i("button"),l=E("‚ñ∂ Resume"),this.h()},l(d){e=o(d,"BUTTON",{class:!0});var a=f(e);l=y(a,"‚ñ∂ Resume"),a.forEach(c),this.h()},h(){e.disabled=s[4],n(e,"class","w-full px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-semibold")},m(d,a){lt(d,e,a),t(e,l),r||(u=ct(e,"click",s[18]),r=!0)},p(d,a){a[0]&16&&(e.disabled=d[4])},d(d){d&&c(e),r=!1,u()}}}function Xa(s){let e,l,r,u,d;return{c(){e=i("button"),l=E("‚ñ∂ Start Trading"),this.h()},l(a){e=o(a,"BUTTON",{class:!0});var p=f(e);l=y(p,"‚ñ∂ Start Trading"),p.forEach(c),this.h()},h(){e.disabled=r=s[4]||!s[9],n(e,"class","w-full px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-gray-300 font-semibold")},m(a,p){lt(a,e,p),t(e,l),u||(d=ct(e,"click",s[15]),u=!0)},p(a,p){p[0]&784&&r!==(r=a[4]||!a[9])&&(e.disabled=r)},d(a){a&&c(e),u=!1,d()}}}function Ta(s){let e,l,r,u;return{c(){e=i("button"),l=E("‚èπ Stop & Close All"),this.h()},l(d){e=o(d,"BUTTON",{class:!0});var a=f(e);l=y(a,"‚èπ Stop & Close All"),a.forEach(c),this.h()},h(){e.disabled=s[4],n(e,"class","w-full px-4 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 font-semibold")},m(d,a){lt(d,e,a),t(e,l),r||(u=ct(e,"click",s[16]),r=!0)},p(d,a){a[0]&16&&(e.disabled=d[4])},d(d){d&&c(e),r=!1,u()}}}function Va(s){let e,l,r="Suspension Controls",u,d,a,p,m,b,g,_="Suspend CE Entries",N,C,D,j,S,x,I="Suspend PE Entries",T,V;return{c(){e=i("div"),l=i("h3"),l.textContent=r,u=v(),d=i("div"),a=i("label"),p=i("input"),b=v(),g=i("span"),g.textContent=_,N=v(),C=i("label"),D=i("input"),S=v(),x=i("span"),x.textContent=I,this.h()},l(L){e=o(L,"DIV",{class:!0});var B=f(e);l=o(B,"H3",{class:!0,"data-svelte-h":!0}),G(l)!=="svelte-1kehgi4"&&(l.textContent=r),u=h(B),d=o(B,"DIV",{class:!0});var U=f(d);a=o(U,"LABEL",{class:!0});var Y=f(a);p=o(Y,"INPUT",{type:!0,class:!0}),b=h(Y),g=o(Y,"SPAN",{class:!0,"data-svelte-h":!0}),G(g)!=="svelte-1rglrtj"&&(g.textContent=_),Y.forEach(c),N=h(U),C=o(U,"LABEL",{class:!0});var $=f(C);D=o($,"INPUT",{type:!0,class:!0}),S=h($),x=o($,"SPAN",{class:!0,"data-svelte-h":!0}),G(x)!=="svelte-15kbeg4"&&(x.textContent=I),$.forEach(c),U.forEach(c),B.forEach(c),this.h()},h(){n(l,"class","text-sm font-semibold mb-3"),n(p,"type","checkbox"),p.checked=m=s[0].suspend_ce||!1,n(p,"class","w-5 h-5"),n(g,"class","text-sm"),n(a,"class","flex items-center gap-2"),n(D,"type","checkbox"),D.checked=j=s[0].suspend_pe||!1,n(D,"class","w-5 h-5"),n(x,"class","text-sm"),n(C,"class","flex items-center gap-2"),n(d,"class","space-y-2"),n(e,"class","mt-6 pt-6 border-t")},m(L,B){lt(L,e,B),t(e,l),t(e,u),t(e,d),t(d,a),t(a,p),t(a,b),t(a,g),t(d,N),t(d,C),t(C,D),t(C,S),t(C,x),T||(V=[ct(p,"change",s[32]),ct(D,"change",s[33])],T=!0)},p(L,B){B[0]&1&&m!==(m=L[0].suspend_ce||!1)&&(p.checked=m),B[0]&1&&j!==(j=L[0].suspend_pe||!1)&&(D.checked=j)},d(L){L&&c(e),T=!1,$l(V)}}}function wa(s){let e,l=jt(s[0].last_update)+"",r;return{c(){e=i("span"),r=E(l),this.h()},l(u){e=o(u,"SPAN",{class:!0});var d=f(e);r=y(d,l),d.forEach(c),this.h()},h(){n(e,"class","text-lg font-normal text-blue-600 ml-2")},m(u,d){lt(u,e,d),t(e,r)},p(u,d){d[0]&1&&l!==(l=jt(u[0].last_update)+"")&&z(r,l)},d(u){u&&c(e)}}}function Pa(s){let e,l,r,u,d,a=s[5].length+"",p,m,b,g,_,N,C=s[6].length+"",D,j,S,x,I,T,V=s[7].length+"",L,B,U,Y,$,at,R;function Q(w,A){if(w[14]==="performance")return tr;if(w[14]==="closed")return $a;if(w[14]==="alerts")return Za}let O=Q(s),M=O&&O(s);return{c(){e=i("div"),l=i("div"),r=i("div"),u=i("button"),d=E("üìä Active Positions ("),p=E(a),m=E(")"),g=v(),_=i("button"),N=E("üìù Closed Trades ("),D=E(C),j=E(")"),x=v(),I=i("button"),T=E("üîî Alerts ("),L=E(V),B=E(")"),Y=v(),$=i("div"),M&&M.c(),this.h()},l(w){e=o(w,"DIV",{class:!0});var A=f(e);l=o(A,"DIV",{class:!0});var W=f(l);r=o(W,"DIV",{class:!0});var K=f(r);u=o(K,"BUTTON",{class:!0});var ot=f(u);d=y(ot,"üìä Active Positions ("),p=y(ot,a),m=y(ot,")"),ot.forEach(c),g=h(K),_=o(K,"BUTTON",{class:!0});var et=f(_);N=y(et,"üìù Closed Trades ("),D=y(et,C),j=y(et,")"),et.forEach(c),x=h(K),I=o(K,"BUTTON",{class:!0});var X=f(I);T=y(X,"üîî Alerts ("),L=y(X,V),B=y(X,")"),X.forEach(c),K.forEach(c),W.forEach(c),Y=h(A),$=o(A,"DIV",{class:!0});var rt=f($);M&&M.l(rt),rt.forEach(c),A.forEach(c),this.h()},h(){n(u,"class",b="px-6 py-3 rounded-t-lg font-medium transition-colors "+(s[14]==="performance"?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-100")),n(_,"class",S="px-6 py-3 rounded-t-lg font-medium transition-colors "+(s[14]==="closed"?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-100")),n(I,"class",U="px-6 py-3 rounded-t-lg font-medium transition-colors "+(s[14]==="alerts"?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-100")),n(r,"class","flex gap-1 p-2"),n(l,"class","border-b border-gray-200"),n($,"class","p-6"),n(e,"class","bg-white rounded-lg shadow-md")},m(w,A){lt(w,e,A),t(e,l),t(l,r),t(r,u),t(u,d),t(u,p),t(u,m),t(r,g),t(r,_),t(_,N),t(_,D),t(_,j),t(r,x),t(r,I),t(I,T),t(I,L),t(I,B),t(e,Y),t(e,$),M&&M.m($,null),at||(R=[ct(u,"click",s[34]),ct(_,"click",s[35]),ct(I,"click",s[36])],at=!0)},p(w,A){A[0]&32&&a!==(a=w[5].length+"")&&z(p,a),A[0]&16384&&b!==(b="px-6 py-3 rounded-t-lg font-medium transition-colors "+(w[14]==="performance"?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-100"))&&n(u,"class",b),A[0]&64&&C!==(C=w[6].length+"")&&z(D,C),A[0]&16384&&S!==(S="px-6 py-3 rounded-t-lg font-medium transition-colors "+(w[14]==="closed"?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-100"))&&n(_,"class",S),A[0]&128&&V!==(V=w[7].length+"")&&z(L,V),A[0]&16384&&U!==(U="px-6 py-3 rounded-t-lg font-medium transition-colors "+(w[14]==="alerts"?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-100"))&&n(I,"class",U),O===(O=Q(w))&&M?M.p(w,A):(M&&M.d(1),M=O&&O(w),M&&(M.c(),M.m($,null)))},d(w){w&&c(e),M&&M.d(),at=!1,$l(R)}}}function Za(s){let e;function l(d,a){return d[7].length===0?lr:er}let r=l(s),u=r(s);return{c(){u.c(),e=Re()},l(d){u.l(d),e=Re()},m(d,a){u.m(d,a),lt(d,e,a)},p(d,a){r===(r=l(d))&&u?u.p(d,a):(u.d(1),u=r(d),u&&(u.c(),u.m(e.parentNode,e)))},d(d){d&&c(e),u.d(d)}}}function $a(s){let e;function l(d,a){return d[6].length===0?ar:sr}let r=l(s),u=r(s);return{c(){u.c(),e=Re()},l(d){u.l(d),e=Re()},m(d,a){u.m(d,a),lt(d,e,a)},p(d,a){r===(r=l(d))&&u?u.p(d,a):(u.d(1),u=r(d),u&&(u.c(),u.m(e.parentNode,e)))},d(d){d&&c(e),u.d(d)}}}function tr(s){let e;function l(d,a){return d[5].length===0?nr:rr}let r=l(s),u=r(s);return{c(){u.c(),e=Re()},l(d){u.l(d),e=Re()},m(d,a){u.m(d,a),lt(d,e,a)},p(d,a){r===(r=l(d))&&u?u.p(d,a):(u.d(1),u=r(d),u&&(u.c(),u.m(e.parentNode,e)))},d(d){d&&c(e),u.d(d)}}}function er(s){let e,l=re(s[7]),r=[];for(let u=0;u<l.length;u+=1)r[u]=Na(ga(s,l,u));return{c(){e=i("div");for(let u=0;u<r.length;u+=1)r[u].c();this.h()},l(u){e=o(u,"DIV",{class:!0});var d=f(e);for(let a=0;a<r.length;a+=1)r[a].l(d);d.forEach(c),this.h()},h(){n(e,"class","space-y-2 max-h-96 overflow-y-auto")},m(u,d){lt(u,e,d);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(e,null)},p(u,d){if(d[0]&128){l=re(u[7]);let a;for(a=0;a<l.length;a+=1){const p=ga(u,l,a);r[a]?r[a].p(p,d):(r[a]=Na(p),r[a].c(),r[a].m(e,null))}for(;a<r.length;a+=1)r[a].d(1);r.length=l.length}},d(u){u&&c(e),ts(r,u)}}}function lr(s){let e,l="No alerts yet";return{c(){e=i("div"),e.textContent=l,this.h()},l(r){e=o(r,"DIV",{class:!0,"data-svelte-h":!0}),G(e)!=="svelte-13q002z"&&(e.textContent=l),this.h()},h(){n(e,"class","text-center py-12 text-gray-500")},m(r,u){lt(r,e,u)},p:rl,d(r){r&&c(e)}}}function Na(s){let e,l,r=s[49].alert_type==="entry"?"üìà":s[49].alert_type==="exit"?"üìâ":s[49].alert_type==="error"?"‚ö†Ô∏è":"‚ÑπÔ∏è",u,d,a,p,m=s[49].message+"",b,g,_,N=La(s[49].timestamp)+"",C,D,j;return{c(){e=i("div"),l=i("span"),u=E(r),d=v(),a=i("div"),p=i("div"),b=E(m),g=v(),_=i("div"),C=E(N),D=v(),this.h()},l(S){e=o(S,"DIV",{class:!0});var x=f(e);l=o(x,"SPAN",{class:!0});var I=f(l);u=y(I,r),I.forEach(c),d=h(x),a=o(x,"DIV",{class:!0});var T=f(a);p=o(T,"DIV",{class:!0});var V=f(p);b=y(V,m),V.forEach(c),g=h(T),_=o(T,"DIV",{class:!0});var L=f(_);C=y(L,N),L.forEach(c),T.forEach(c),D=h(x),x.forEach(c),this.h()},h(){n(l,"class","text-xl"),n(p,"class","text-sm font-medium text-gray-900"),n(_,"class","text-xs text-gray-600 mt-1"),n(a,"class","flex-1"),n(e,"class",j="flex items-start gap-3 p-3 rounded-lg "+(s[49].alert_type==="entry"?"bg-green-50":s[49].alert_type==="exit"?"bg-blue-50":s[49].alert_type==="error"?"bg-red-50":"bg-gray-50"))},m(S,x){lt(S,e,x),t(e,l),t(l,u),t(e,d),t(e,a),t(a,p),t(p,b),t(a,g),t(a,_),t(_,C),t(e,D)},p(S,x){x[0]&128&&r!==(r=S[49].alert_type==="entry"?"üìà":S[49].alert_type==="exit"?"üìâ":S[49].alert_type==="error"?"‚ö†Ô∏è":"‚ÑπÔ∏è")&&z(u,r),x[0]&128&&m!==(m=S[49].message+"")&&z(b,m),x[0]&128&&N!==(N=La(S[49].timestamp)+"")&&z(C,N),x[0]&128&&j!==(j="flex items-start gap-3 p-3 rounded-lg "+(S[49].alert_type==="entry"?"bg-green-50":S[49].alert_type==="exit"?"bg-blue-50":S[49].alert_type==="error"?"bg-red-50":"bg-gray-50"))&&n(e,"class",j)},d(S){S&&c(e)}}}function sr(s){let e,l,r,u='<tr><th class="px-4 py-3 text-left text-sm font-semibold text-gray-700">Entry</th> <th class="px-4 py-3 text-left text-sm font-semibold text-gray-700">Exit</th> <th class="px-4 py-3 text-left text-sm font-semibold text-gray-700">Instrument</th> <th class="px-4 py-3 text-left text-sm font-semibold text-gray-700">Type</th> <th class="px-4 py-3 text-left text-sm font-semibold text-gray-700">Trigger</th> <th class="px-4 py-3 text-right text-sm font-semibold text-gray-700">Entry Price</th> <th class="px-4 py-3 text-right text-sm font-semibold text-gray-700">Exit Price</th> <th class="px-4 py-3 text-right text-sm font-semibold text-gray-700">Qty</th> <th class="px-4 py-3 text-left text-sm font-semibold text-gray-700">Exit Reason</th> <th class="px-4 py-3 text-right text-sm font-semibold text-gray-700">P&amp;L</th> <th class="px-4 py-3 text-right text-sm font-semibold text-gray-700">P&amp;L %</th></tr>',d,a,p=re(s[6]),m=[];for(let b=0;b<p.length;b+=1)m[b]=Sa(ma(s,p,b));return{c(){e=i("div"),l=i("table"),r=i("thead"),r.innerHTML=u,d=v(),a=i("tbody");for(let b=0;b<m.length;b+=1)m[b].c();this.h()},l(b){e=o(b,"DIV",{class:!0});var g=f(e);l=o(g,"TABLE",{class:!0});var _=f(l);r=o(_,"THEAD",{class:!0,"data-svelte-h":!0}),G(r)!=="svelte-1jo3knv"&&(r.innerHTML=u),d=h(_),a=o(_,"TBODY",{class:!0});var N=f(a);for(let C=0;C<m.length;C+=1)m[C].l(N);N.forEach(c),_.forEach(c),g.forEach(c),this.h()},h(){n(r,"class","bg-gray-50"),n(a,"class","divide-y divide-gray-200"),n(l,"class","w-full"),n(e,"class","overflow-x-auto")},m(b,g){lt(b,e,g),t(e,l),t(l,r),t(l,d),t(l,a);for(let _=0;_<m.length;_+=1)m[_]&&m[_].m(a,null)},p(b,g){if(g[0]&64){p=re(b[6]);let _;for(_=0;_<p.length;_+=1){const N=ma(b,p,_);m[_]?m[_].p(N,g):(m[_]=Sa(N),m[_].c(),m[_].m(a,null))}for(;_<m.length;_+=1)m[_].d(1);m.length=p.length}},d(b){b&&c(e),ts(m,b)}}}function ar(s){let e,l="No closed trades yet";return{c(){e=i("div"),e.textContent=l,this.h()},l(r){e=o(r,"DIV",{class:!0,"data-svelte-h":!0}),G(e)!=="svelte-1b6uo9z"&&(e.textContent=l),this.h()},h(){n(e,"class","text-center py-12 text-gray-500")},m(r,u){lt(r,e,u)},p:rl,d(r){r&&c(e)}}}function Sa(s){var yt,F;let e,l,r=jt(s[44].entry_time)+"",u,d,a,p=jt(s[44].exit_time)+"",m,b,g,_=s[44].instrument+"",N,C,D,j,S=s[44].option_type+"",x,I,T,V,L=(((yt=s[44].entry_trigger)==null?void 0:yt.toUpperCase())||"-")+"",B,U,Y,$=tt(s[44].entry_price)+"",at,R,Q,O=tt(s[44].exit_price)+"",M,w,A,W=s[44].quantity+"",K,ot,et,X,rt=s[44].exit_reason+"",ht,it,ft,vt,gt=tt(s[44].pnl)+"",Vt,xt,mt,P,J=((F=s[44].pnl_percentage)==null?void 0:F.toFixed(2))+"",Z,ut,dt,_t;return{c(){e=i("tr"),l=i("td"),u=E(r),d=v(),a=i("td"),m=E(p),b=v(),g=i("td"),N=E(_),C=v(),D=i("td"),j=i("span"),x=E(S),T=v(),V=i("td"),B=E(L),U=v(),Y=i("td"),at=E($),R=v(),Q=i("td"),M=E(O),w=v(),A=i("td"),K=E(W),ot=v(),et=i("td"),X=i("span"),ht=E(rt),ft=v(),vt=i("td"),Vt=E(gt),mt=v(),P=i("td"),Z=E(J),ut=E("%"),_t=v(),this.h()},l(st){e=o(st,"TR",{class:!0});var H=f(e);l=o(H,"TD",{class:!0});var Et=f(l);u=y(Et,r),Et.forEach(c),d=h(H),a=o(H,"TD",{class:!0});var Ct=f(a);m=y(Ct,p),Ct.forEach(c),b=h(H),g=o(H,"TD",{class:!0});var Yt=f(g);N=y(Yt,_),Yt.forEach(c),C=h(H),D=o(H,"TD",{class:!0});var Bt=f(D);j=o(Bt,"SPAN",{class:!0});var St=f(j);x=y(St,S),St.forEach(c),Bt.forEach(c),T=h(H),V=o(H,"TD",{class:!0});var zt=f(V);B=y(zt,L),zt.forEach(c),U=h(H),Y=o(H,"TD",{class:!0});var Ut=f(Y);at=y(Ut,$),Ut.forEach(c),R=h(H),Q=o(H,"TD",{class:!0});var Ht=f(Q);M=y(Ht,O),Ht.forEach(c),w=h(H),A=o(H,"TD",{class:!0});var Pt=f(A);K=y(Pt,W),Pt.forEach(c),ot=h(H),et=o(H,"TD",{class:!0});var Nt=f(et);X=o(Nt,"SPAN",{class:!0});var Fe=f(X);ht=y(Fe,rt),Fe.forEach(c),Nt.forEach(c),ft=h(H),vt=o(H,"TD",{class:!0});var Pe=f(vt);Vt=y(Pe,gt),Pe.forEach(c),mt=h(H),P=o(H,"TD",{class:!0});var Ot=f(P);Z=y(Ot,J),ut=y(Ot,"%"),Ot.forEach(c),_t=h(H),H.forEach(c),this.h()},h(){n(l,"class","px-4 py-3 text-sm text-gray-700"),n(a,"class","px-4 py-3 text-sm text-gray-700"),n(g,"class","px-4 py-3 text-sm font-medium text-gray-900"),n(j,"class",I="px-2 py-1 text-xs font-semibold rounded "+(s[44].option_type==="CE"?"bg-green-100 text-green-700":"bg-red-100 text-red-700")),n(D,"class","px-4 py-3"),n(V,"class","px-4 py-3 text-sm text-gray-700"),n(Y,"class","px-4 py-3 text-sm text-right text-gray-700"),n(Q,"class","px-4 py-3 text-sm text-right text-gray-700"),n(A,"class","px-4 py-3 text-sm text-right text-gray-700"),n(X,"class",it="px-2 py-1 text-xs font-semibold rounded "+(s[44].exit_reason==="target"?"bg-green-100 text-green-700":s[44].exit_reason==="stoploss"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700")),n(et,"class","px-4 py-3"),n(vt,"class",xt="px-4 py-3 text-sm text-right font-bold "+Lt(s[44].pnl)),n(P,"class",dt="px-4 py-3 text-sm text-right font-bold "+Lt(s[44].pnl_percentage)),n(e,"class","hover:bg-gray-50")},m(st,H){lt(st,e,H),t(e,l),t(l,u),t(e,d),t(e,a),t(a,m),t(e,b),t(e,g),t(g,N),t(e,C),t(e,D),t(D,j),t(j,x),t(e,T),t(e,V),t(V,B),t(e,U),t(e,Y),t(Y,at),t(e,R),t(e,Q),t(Q,M),t(e,w),t(e,A),t(A,K),t(e,ot),t(e,et),t(et,X),t(X,ht),t(e,ft),t(e,vt),t(vt,Vt),t(e,mt),t(e,P),t(P,Z),t(P,ut),t(e,_t)},p(st,H){var Et,Ct;H[0]&64&&r!==(r=jt(st[44].entry_time)+"")&&z(u,r),H[0]&64&&p!==(p=jt(st[44].exit_time)+"")&&z(m,p),H[0]&64&&_!==(_=st[44].instrument+"")&&z(N,_),H[0]&64&&S!==(S=st[44].option_type+"")&&z(x,S),H[0]&64&&I!==(I="px-2 py-1 text-xs font-semibold rounded "+(st[44].option_type==="CE"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"))&&n(j,"class",I),H[0]&64&&L!==(L=(((Et=st[44].entry_trigger)==null?void 0:Et.toUpperCase())||"-")+"")&&z(B,L),H[0]&64&&$!==($=tt(st[44].entry_price)+"")&&z(at,$),H[0]&64&&O!==(O=tt(st[44].exit_price)+"")&&z(M,O),H[0]&64&&W!==(W=st[44].quantity+"")&&z(K,W),H[0]&64&&rt!==(rt=st[44].exit_reason+"")&&z(ht,rt),H[0]&64&&it!==(it="px-2 py-1 text-xs font-semibold rounded "+(st[44].exit_reason==="target"?"bg-green-100 text-green-700":st[44].exit_reason==="stoploss"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"))&&n(X,"class",it),H[0]&64&&gt!==(gt=tt(st[44].pnl)+"")&&z(Vt,gt),H[0]&64&&xt!==(xt="px-4 py-3 text-sm text-right font-bold "+Lt(st[44].pnl))&&n(vt,"class",xt),H[0]&64&&J!==(J=((Ct=st[44].pnl_percentage)==null?void 0:Ct.toFixed(2))+"")&&z(Z,J),H[0]&64&&dt!==(dt="px-4 py-3 text-sm text-right font-bold "+Lt(st[44].pnl_percentage))&&n(P,"class",dt)},d(st){st&&c(e)}}}function rr(s){let e,l,r,u='<tr><th class="px-4 py-3 text-left text-sm font-semibold text-gray-700">Time</th> <th class="px-4 py-3 text-left text-sm font-semibold text-gray-700">Instrument</th> <th class="px-4 py-3 text-left text-sm font-semibold text-gray-700">Type</th> <th class="px-4 py-3 text-left text-sm font-semibold text-gray-700">Trigger</th> <th class="px-4 py-3 text-right text-sm font-semibold text-gray-700">Entry</th> <th class="px-4 py-3 text-right text-sm font-semibold text-gray-700">Current</th> <th class="px-4 py-3 text-right text-sm font-semibold text-gray-700">Target</th> <th class="px-4 py-3 text-right text-sm font-semibold text-gray-700">Stop Loss</th> <th class="px-4 py-3 text-right text-sm font-semibold text-gray-700">Qty</th> <th class="px-4 py-3 text-right text-sm font-semibold text-gray-700">P&amp;L</th> <th class="px-4 py-3 text-center text-sm font-semibold text-gray-700">Action</th></tr>',d,a,p=re(s[5]),m=[];for(let b=0;b<p.length;b+=1)m[b]=Aa(ba(s,p,b));return{c(){e=i("div"),l=i("table"),r=i("thead"),r.innerHTML=u,d=v(),a=i("tbody");for(let b=0;b<m.length;b+=1)m[b].c();this.h()},l(b){e=o(b,"DIV",{class:!0});var g=f(e);l=o(g,"TABLE",{class:!0});var _=f(l);r=o(_,"THEAD",{class:!0,"data-svelte-h":!0}),G(r)!=="svelte-9yybj5"&&(r.innerHTML=u),d=h(_),a=o(_,"TBODY",{class:!0});var N=f(a);for(let C=0;C<m.length;C+=1)m[C].l(N);N.forEach(c),_.forEach(c),g.forEach(c),this.h()},h(){n(r,"class","bg-gray-50"),n(a,"class","divide-y divide-gray-200"),n(l,"class","w-full"),n(e,"class","overflow-x-auto")},m(b,g){lt(b,e,g),t(e,l),t(l,r),t(l,d),t(l,a);for(let _=0;_<m.length;_+=1)m[_]&&m[_].m(a,null)},p(b,g){if(g[0]&2097184){p=re(b[5]);let _;for(_=0;_<p.length;_+=1){const N=ba(b,p,_);m[_]?m[_].p(N,g):(m[_]=Aa(N),m[_].c(),m[_].m(a,null))}for(;_<m.length;_+=1)m[_].d(1);m.length=p.length}},d(b){b&&c(e),ts(m,b)}}}function nr(s){let e,l="No active positions";return{c(){e=i("div"),e.textContent=l,this.h()},l(r){e=o(r,"DIV",{class:!0,"data-svelte-h":!0}),G(e)!=="svelte-9yr9lc"&&(e.textContent=l),this.h()},h(){n(e,"class","text-center py-12 text-gray-500")},m(r,u){lt(r,e,u)},p:rl,d(r){r&&c(e)}}}function Aa(s){var _t;let e,l,r=jt(s[44].entry_time)+"",u,d,a,p=s[44].instrument+"",m,b,g,_,N=s[44].option_type+"",C,D,j,S,x=(((_t=s[44].entry_trigger)==null?void 0:_t.toUpperCase())||"-")+"",I,T,V,L=tt(s[44].entry_price)+"",B,U,Y,$=tt(s[44].current_price||s[44].entry_price)+"",at,R,Q,O=tt(s[44].target_price)+"",M,w,A,W=tt(s[44].stoploss_price)+"",K,ot,et,X=s[44].quantity+"",rt,ht,it,ft=tt(s[44].unrealized_pnl||0)+"",vt,gt,Vt,xt,mt,P="Close",J,Z,ut;function dt(){return s[37](s[44])}return{c(){e=i("tr"),l=i("td"),u=E(r),d=v(),a=i("td"),m=E(p),b=v(),g=i("td"),_=i("span"),C=E(N),j=v(),S=i("td"),I=E(x),T=v(),V=i("td"),B=E(L),U=v(),Y=i("td"),at=E($),R=v(),Q=i("td"),M=E(O),w=v(),A=i("td"),K=E(W),ot=v(),et=i("td"),rt=E(X),ht=v(),it=i("td"),vt=E(ft),Vt=v(),xt=i("td"),mt=i("button"),mt.textContent=P,J=v(),this.h()},l(yt){e=o(yt,"TR",{class:!0});var F=f(e);l=o(F,"TD",{class:!0});var st=f(l);u=y(st,r),st.forEach(c),d=h(F),a=o(F,"TD",{class:!0});var H=f(a);m=y(H,p),H.forEach(c),b=h(F),g=o(F,"TD",{class:!0});var Et=f(g);_=o(Et,"SPAN",{class:!0});var Ct=f(_);C=y(Ct,N),Ct.forEach(c),Et.forEach(c),j=h(F),S=o(F,"TD",{class:!0});var Yt=f(S);I=y(Yt,x),Yt.forEach(c),T=h(F),V=o(F,"TD",{class:!0});var Bt=f(V);B=y(Bt,L),Bt.forEach(c),U=h(F),Y=o(F,"TD",{class:!0});var St=f(Y);at=y(St,$),St.forEach(c),R=h(F),Q=o(F,"TD",{class:!0});var zt=f(Q);M=y(zt,O),zt.forEach(c),w=h(F),A=o(F,"TD",{class:!0});var Ut=f(A);K=y(Ut,W),Ut.forEach(c),ot=h(F),et=o(F,"TD",{class:!0});var Ht=f(et);rt=y(Ht,X),Ht.forEach(c),ht=h(F),it=o(F,"TD",{class:!0});var Pt=f(it);vt=y(Pt,ft),Pt.forEach(c),Vt=h(F),xt=o(F,"TD",{class:!0});var Nt=f(xt);mt=o(Nt,"BUTTON",{class:!0,"data-svelte-h":!0}),G(mt)!=="svelte-lfun7q"&&(mt.textContent=P),Nt.forEach(c),J=h(F),F.forEach(c),this.h()},h(){n(l,"class","px-4 py-3 text-sm text-gray-700"),n(a,"class","px-4 py-3 text-sm font-medium text-gray-900"),n(_,"class",D="px-2 py-1 text-xs font-semibold rounded "+(s[44].option_type==="CE"?"bg-green-100 text-green-700":"bg-red-100 text-red-700")),n(g,"class","px-4 py-3"),n(S,"class","px-4 py-3 text-sm text-gray-700"),n(V,"class","px-4 py-3 text-sm text-right text-gray-700"),n(Y,"class","px-4 py-3 text-sm text-right font-medium text-gray-900"),n(Q,"class","px-4 py-3 text-sm text-right text-green-600"),n(A,"class","px-4 py-3 text-sm text-right text-red-600"),n(et,"class","px-4 py-3 text-sm text-right text-gray-700"),n(it,"class",gt="px-4 py-3 text-sm text-right font-bold "+Lt(s[44].unrealized_pnl||0)),n(mt,"class","px-3 py-1 text-xs bg-red-600 text-white rounded hover:bg-red-700"),n(xt,"class","px-4 py-3 text-center"),n(e,"class","hover:bg-gray-50")},m(yt,F){lt(yt,e,F),t(e,l),t(l,u),t(e,d),t(e,a),t(a,m),t(e,b),t(e,g),t(g,_),t(_,C),t(e,j),t(e,S),t(S,I),t(e,T),t(e,V),t(V,B),t(e,U),t(e,Y),t(Y,at),t(e,R),t(e,Q),t(Q,M),t(e,w),t(e,A),t(A,K),t(e,ot),t(e,et),t(et,rt),t(e,ht),t(e,it),t(it,vt),t(e,Vt),t(e,xt),t(xt,mt),t(e,J),Z||(ut=ct(mt,"click",dt),Z=!0)},p(yt,F){var st;s=yt,F[0]&32&&r!==(r=jt(s[44].entry_time)+"")&&z(u,r),F[0]&32&&p!==(p=s[44].instrument+"")&&z(m,p),F[0]&32&&N!==(N=s[44].option_type+"")&&z(C,N),F[0]&32&&D!==(D="px-2 py-1 text-xs font-semibold rounded "+(s[44].option_type==="CE"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"))&&n(_,"class",D),F[0]&32&&x!==(x=(((st=s[44].entry_trigger)==null?void 0:st.toUpperCase())||"-")+"")&&z(I,x),F[0]&32&&L!==(L=tt(s[44].entry_price)+"")&&z(B,L),F[0]&32&&$!==($=tt(s[44].current_price||s[44].entry_price)+"")&&z(at,$),F[0]&32&&O!==(O=tt(s[44].target_price)+"")&&z(M,O),F[0]&32&&W!==(W=tt(s[44].stoploss_price)+"")&&z(K,W),F[0]&32&&X!==(X=s[44].quantity+"")&&z(rt,X),F[0]&32&&ft!==(ft=tt(s[44].unrealized_pnl||0)+"")&&z(vt,ft),F[0]&32&&gt!==(gt="px-4 py-3 text-sm text-right font-bold "+Lt(s[44].unrealized_pnl||0))&&n(it,"class",gt)},d(yt){yt&&c(e),Z=!1,ut()}}}function or(s){let e,l,r,u='<h1 class="text-3xl font-bold text-gray-900">Paper Trade</h1> <p class="text-gray-600 mt-1">Real-time paper trade with live market data</p>',d,a,p,m,b=s[0].status.toUpperCase()+"",g,_,N,C,D,j,S,x,I,T,V,L,B,U,Y,$,at,R=s[0].running&&ya(s),Q=s[3]&&Ea(s),O=s[13]==="dash"&&Ca(s),M=s[13]==="trades"&&Pa(s);return{c(){e=i("div"),l=i("div"),r=i("div"),r.innerHTML=u,d=v(),a=i("div"),R&&R.c(),p=v(),m=i("div"),g=E(b),N=v(),C=i("div"),D=i("div"),j=i("button"),S=E("üè† Dashboard"),I=v(),T=i("button"),V=E("üìä Trades"),B=v(),Q&&Q.c(),U=v(),O&&O.c(),Y=v(),M&&M.c(),this.h()},l(w){e=o(w,"DIV",{class:!0});var A=f(e);l=o(A,"DIV",{class:!0});var W=f(l);r=o(W,"DIV",{"data-svelte-h":!0}),G(r)!=="svelte-km6g7k"&&(r.innerHTML=u),d=h(W),a=o(W,"DIV",{class:!0});var K=f(a);R&&R.l(K),p=h(K),m=o(K,"DIV",{class:!0});var ot=f(m);g=y(ot,b),ot.forEach(c),K.forEach(c),W.forEach(c),N=h(A),C=o(A,"DIV",{class:!0});var et=f(C);D=o(et,"DIV",{class:!0});var X=f(D);j=o(X,"BUTTON",{class:!0});var rt=f(j);S=y(rt,"üè† Dashboard"),rt.forEach(c),I=h(X),T=o(X,"BUTTON",{class:!0});var ht=f(T);V=y(ht,"üìä Trades"),ht.forEach(c),X.forEach(c),et.forEach(c),B=h(A),Q&&Q.l(A),U=h(A),O&&O.l(A),Y=h(A),M&&M.l(A),A.forEach(c),this.h()},h(){n(m,"class",_="px-4 py-2 rounded-lg "+ja(s[0].status)+" font-semibold"),n(a,"class","flex items-center gap-3"),n(l,"class","flex justify-between items-center"),n(j,"class",x="px-6 py-3 rounded-t-lg font-medium transition-colors "+(s[13]==="dash"?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-100")),n(T,"class",L="px-6 py-3 rounded-t-lg font-medium transition-colors "+(s[13]==="trades"?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-100")),n(D,"class","flex gap-1 p-2"),n(C,"class","border-b border-gray-200"),n(e,"class","space-y-6")},m(w,A){lt(w,e,A),t(e,l),t(l,r),t(l,d),t(l,a),R&&R.m(a,null),t(a,p),t(a,m),t(m,g),t(e,N),t(e,C),t(C,D),t(D,j),t(j,S),t(D,I),t(D,T),t(T,V),t(e,B),Q&&Q.m(e,null),t(e,U),O&&O.m(e,null),t(e,Y),M&&M.m(e,null),$||(at=[ct(j,"click",s[22]),ct(T,"click",s[23])],$=!0)},p(w,A){w[0].running?R?R.p(w,A):(R=ya(w),R.c(),R.m(a,p)):R&&(R.d(1),R=null),A[0]&1&&b!==(b=w[0].status.toUpperCase()+"")&&z(g,b),A[0]&1&&_!==(_="px-4 py-2 rounded-lg "+ja(w[0].status)+" font-semibold")&&n(m,"class",_),A[0]&8192&&x!==(x="px-6 py-3 rounded-t-lg font-medium transition-colors "+(w[13]==="dash"?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-100"))&&n(j,"class",x),A[0]&8192&&L!==(L="px-6 py-3 rounded-t-lg font-medium transition-colors "+(w[13]==="trades"?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-100"))&&n(T,"class",L),w[3]?Q?Q.p(w,A):(Q=Ea(w),Q.c(),Q.m(e,U)):Q&&(Q.d(1),Q=null),w[13]==="dash"?O?O.p(w,A):(O=Ca(w),O.c(),O.m(e,Y)):O&&(O.d(1),O=null),w[13]==="trades"?M?M.p(w,A):(M=Pa(w),M.c(),M.m(e,null)):M&&(M.d(1),M=null)},i:rl,o:rl,d(w){w&&c(e),R&&R.d(),Q&&Q.d(),O&&O.d(),M&&M.d(),$=!1,$l(at)}}}function tt(s){return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:2}).format(s)}function La(s){return s?new Date(s).toLocaleString("en-IN"):"-"}function jt(s){return s?new Date(s).toLocaleTimeString("en-IN"):"-"}function ja(s){return{running:"text-green-600 bg-green-100",paused:"text-yellow-600 bg-yellow-100",stopped:"text-gray-600 bg-gray-100"}[s]||"text-gray-600 bg-gray-100"}function Zl(s){return s?s.toLowerCase().includes("up")?"text-green-600":"text-red-600":"text-gray-500"}function Lt(s){return s>0?"text-green-600":s<0?"text-red-600":"text-gray-600"}function ir(s,e,l){let r={running:!1,status:"stopped",mode:"none",is_historical_mode:!1,config_id:null,initial_capital:0,current_capital:0,nifty_ltp:0,major_trend:"",major_ma7:null,major_ma20:null,major_trend_changed_at:null,minor_trend:"",minor_ma7:null,minor_ma20:null,minor_trend_changed_at:null,major_timeframe:"15min",minor_timeframe:"1min",active_positions:0,last_update:null,current_simulation_time:null,suspend_ce:!1,suspend_pe:!1},u={is_open:!1,current_time:"",is_trading_day:!1,market_open_time:"09:15",market_close_time:"15:30",next_trading_day:null},d={total_trades:0,realized_pnl:0,unrealized_pnl:0,total_pnl:0,win_rate:0,avg_profit:0,avg_loss:0},a=null,p=!1,m=[],b=[],g=[],_=[],N=null,C=!1,D=1,j=null,S="dash",x="performance",I=null;Ma(async()=>{await V(),await L(),await T(),I=setInterval(T,5e3)}),Ua(()=>{I&&clearInterval(I)});async function T(){try{const P=await qt.getStatus();l(0,r={...r,...P.data}),r.running&&r.config_id&&(await B(),await U())}catch(P){console.error("Error fetching status:",P)}}async function V(){try{const P=await qa.getAll();l(8,_=P.data.configs||[]),_.length>0&&!N&&l(9,N=_[0].id)}catch(P){console.error("Error loading configs:",P)}}async function L(){try{const J=await(await fetch("http://localhost:8000/api/paper-trading/market-status")).json();J.status==="success"&&(l(1,u=J.data),u.is_open&&l(10,C=!1))}catch(P){console.error("Error loading market status:",P)}}async function B(){if(r.config_id)try{const J=(await qt.getTrades(r.config_id)).data.trades||[];l(5,m=J.filter(dt=>dt.status==="open")),l(6,b=J.filter(dt=>dt.status==="closed").slice(0,50)),l(2,d.total_trades=b.length,d),l(2,d.realized_pnl=b.reduce((dt,_t)=>dt+(_t.pnl||0),0),d),l(2,d.unrealized_pnl=m.reduce((dt,_t)=>dt+(_t.unrealized_pnl||0),0),d),l(2,d.total_pnl=d.realized_pnl+d.unrealized_pnl,d);const Z=b.filter(dt=>dt.pnl!==0),ut=Z.filter(dt=>dt.pnl>0);l(2,d.win_rate=Z.length>0?(ut.length/Z.length*100).toFixed(1):0,d)}catch(P){console.error("Error loading trades:",P)}}async function U(){if(r.config_id)try{const P=await qt.getAlerts(r.config_id);l(7,g=(P.data.alerts||[]).slice(0,100))}catch(P){console.error("Error loading alerts:",P)}}async function Y(){if(!N){l(3,a="Please select a configuration");return}l(4,p=!0),l(3,a=null);try{const P=await fetch("http://localhost:8000/api/paper-trading/start",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({config_id:N,historical_mode:C,replay_speed:C?D:1,selected_date:C&&j?j:null})});if(!P.ok){const J=await P.json();throw new Error(J.detail||"Failed to start engine")}await T()}catch(P){l(3,a=P.message||"Failed to start engine"),console.error("Error starting engine:",P)}finally{l(4,p=!1)}}async function $(){var P,J;l(4,p=!0),l(3,a=null);try{await qt.stop(),await T()}catch(Z){l(3,a=((J=(P=Z.response)==null?void 0:P.data)==null?void 0:J.detail)||"Failed to stop engine"),console.error("Error stopping engine:",Z)}finally{l(4,p=!1)}}async function at(){var P,J;l(4,p=!0),l(3,a=null);try{await qt.pause(),await T()}catch(Z){l(3,a=((J=(P=Z.response)==null?void 0:P.data)==null?void 0:J.detail)||"Failed to pause engine"),console.error("Error pausing engine:",Z)}finally{l(4,p=!1)}}async function R(){var P,J;l(4,p=!0),l(3,a=null);try{await qt.resume(),await T()}catch(Z){l(3,a=((J=(P=Z.response)==null?void 0:P.data)==null?void 0:J.detail)||"Failed to resume engine"),console.error("Error resuming engine:",Z)}finally{l(4,p=!1)}}async function Q(P){var J,Z;try{await qt.suspendCE(P),await T()}catch(ut){l(3,a=((Z=(J=ut.response)==null?void 0:J.data)==null?void 0:Z.detail)||"Failed to toggle CE suspension"),console.error("Error toggling CE:",ut)}}async function O(P){var J,Z;try{await qt.suspendPE(P),await T()}catch(ut){l(3,a=((Z=(J=ut.response)==null?void 0:J.data)==null?void 0:Z.detail)||"Failed to toggle PE suspension"),console.error("Error toggling PE:",ut)}}async function M(P){var J,Z;if(confirm("Are you sure you want to close this position?"))try{await qt.closePosition(P),await B()}catch(ut){l(3,a=((Z=(J=ut.response)==null?void 0:J.data)==null?void 0:Z.detail)||"Failed to close position"),console.error("Error closing position:",ut)}}const w=()=>l(13,S="dash"),A=()=>l(13,S="trades"),W=()=>l(3,a=null);function K(){N=Ba(this),l(9,N),l(8,_)}function ot(){C=this.checked,l(10,C)}function et(){D=Ha(this.value),l(11,D)}const X=()=>l(11,D=.5),rt=()=>l(11,D=1),ht=()=>l(11,D=2);function it(){j=this.value,l(12,j)}return[r,u,d,a,p,m,b,g,_,N,C,D,j,S,x,Y,$,at,R,Q,O,M,w,A,W,K,ot,et,X,rt,ht,it,P=>Q(P.target.checked),P=>O(P.target.checked),()=>l(14,x="performance"),()=>l(14,x="closed"),()=>l(14,x="alerts"),P=>M(P.id)]}class _r extends Ra{constructor(e){super(),Fa(this,e,ir,or,za,{},null,[-1,-1])}}export{_r as component};
