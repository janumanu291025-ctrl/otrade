import{s as Ft,n as wt,d as i,r as Ct,a as lt,m as o,i as x,b as l,l as ot,L as Jt,g as R,c as f,e as p,o as rt,f as y,j as B,h as c,t as k,p as Qt,q as ht,v as _t,x as At,y as Lt}from"../chunks/cb-04oXe.js";import{e as Nt,u as Kt,d as Wt}from"../chunks/D6DogDNs.js";import{S as Xt,i as Zt}from"../chunks/BeocxfxK.js";import{b as $t}from"../chunks/C7KyscHc.js";function It(s,t,e){const n=s.slice();return n[27]=t[e],n}function Ot(s){let t,e,n,a="Search",r,b,m,u,N,Y="Type",E,_,A,V="All",U,st="Buy",T,at="Sell",z,H,K,tt="Status",et,w,Z,W="All",G,M="Complete",F,g="Cancelled",d,D="Rejected",C,S="Open",nt,j;return{c(){t=c("div"),e=c("div"),n=c("label"),n.textContent=a,r=B(),b=c("input"),m=B(),u=c("div"),N=c("label"),N.textContent=Y,E=B(),_=c("select"),A=c("option"),A.textContent=V,U=c("option"),U.textContent=st,T=c("option"),T.textContent=at,z=B(),H=c("div"),K=c("label"),K.textContent=tt,et=B(),w=c("select"),Z=c("option"),Z.textContent=W,G=c("option"),G.textContent=M,F=c("option"),F.textContent=g,d=c("option"),d.textContent=D,C=c("option"),C.textContent=S,this.h()},l(J){t=f(J,"DIV",{class:!0});var q=p(t);e=f(q,"DIV",{class:!0});var L=p(e);n=f(L,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),rt(n)!=="svelte-1gjcryz"&&(n.textContent=a),r=R(L),b=f(L,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),L.forEach(i),m=R(q),u=f(q,"DIV",{class:!0});var v=p(u);N=f(v,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),rt(N)!=="svelte-1fh8lwd"&&(N.textContent=Y),E=R(v),_=f(v,"SELECT",{id:!0,class:!0});var P=p(_);A=f(P,"OPTION",{"data-svelte-h":!0}),rt(A)!=="svelte-zg56oz"&&(A.textContent=V),U=f(P,"OPTION",{"data-svelte-h":!0}),rt(U)!=="svelte-coiayy"&&(U.textContent=st),T=f(P,"OPTION",{"data-svelte-h":!0}),rt(T)!=="svelte-3pt35a"&&(T.textContent=at),P.forEach(i),v.forEach(i),z=R(q),H=f(q,"DIV",{class:!0});var I=p(H);K=f(I,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),rt(K)!=="svelte-byllx5"&&(K.textContent=tt),et=R(I),w=f(I,"SELECT",{id:!0,class:!0});var O=p(w);Z=f(O,"OPTION",{"data-svelte-h":!0}),rt(Z)!=="svelte-zg56oz"&&(Z.textContent=W),G=f(O,"OPTION",{"data-svelte-h":!0}),rt(G)!=="svelte-18d5jou"&&(G.textContent=M),F=f(O,"OPTION",{"data-svelte-h":!0}),rt(F)!=="svelte-11fwr18"&&(F.textContent=g),d=f(O,"OPTION",{"data-svelte-h":!0}),rt(d)!=="svelte-8n5792"&&(d.textContent=D),C=f(O,"OPTION",{"data-svelte-h":!0}),rt(C)!=="svelte-zjf0ry"&&(C.textContent=S),O.forEach(i),I.forEach(i),q.forEach(i),this.h()},h(){o(n,"for","search-input"),o(n,"class","filter-label svelte-6fhwbq"),o(b,"id","search-input"),o(b,"type","text"),o(b,"placeholder","Search by instrument name..."),o(b,"class","filter-input svelte-6fhwbq"),o(e,"class","filter-group svelte-6fhwbq"),o(N,"for","type-filter"),o(N,"class","filter-label svelte-6fhwbq"),A.__value="",ht(A,A.__value),U.__value="BUY",ht(U,U.__value),T.__value="SELL",ht(T,T.__value),o(_,"id","type-filter"),o(_,"class","filter-select svelte-6fhwbq"),s[2]===void 0&&At(()=>s[19].call(_)),o(u,"class","filter-group svelte-6fhwbq"),o(K,"for","status-filter"),o(K,"class","filter-label svelte-6fhwbq"),Z.__value="",ht(Z,Z.__value),G.__value="COMPLETE",ht(G,G.__value),F.__value="CANCELLED",ht(F,F.__value),d.__value="REJECTED",ht(d,d.__value),C.__value="OPEN",ht(C,C.__value),o(w,"id","status-filter"),o(w,"class","filter-select svelte-6fhwbq"),s[1]===void 0&&At(()=>s[20].call(w)),o(H,"class","filter-group svelte-6fhwbq"),o(t,"class","filters svelte-6fhwbq")},m(J,q){x(J,t,q),l(t,e),l(e,n),l(e,r),l(e,b),ht(b,s[3]),l(t,m),l(t,u),l(u,N),l(u,E),l(u,_),l(_,A),l(_,U),l(_,T),_t(_,s[2],!0),l(t,z),l(t,H),l(H,K),l(H,et),l(H,w),l(w,Z),l(w,G),l(w,F),l(w,d),l(w,C),_t(w,s[1],!0),nt||(j=[ot(b,"input",s[18]),ot(b,"input",s[12]),ot(_,"change",s[19]),ot(_,"change",s[12]),ot(w,"change",s[20]),ot(w,"change",s[12])],nt=!0)},p(J,q){q&8&&b.value!==J[3]&&ht(b,J[3]),q&4&&_t(_,J[2]),q&2&&_t(w,J[1])},d(J){J&&i(t),nt=!1,Ct(j)}}}function xt(s){let t,e,n,a,r,b,m,u,N,Y,E,_,A,V,U,st,T,at,z,H,K,tt,et,w=[],Z=new Map,W,G,M,F,g,d=s[7].length+"",D,C,S=s[7].length===1?"order":"orders",nt,j,J,q,L=s[4]==="order_timestamp"&&Dt(s),v=s[4]==="transaction_type"&&St(s),P=s[4]==="tradingsymbol"&&Rt(s),I=s[4]==="quantity"&&Bt(s),O=s[4]==="average_price"&&Vt(s),$=s[4]==="computed_status"&&Gt(s),it=Nt(s[7]);const ut=h=>h[27].order_id;for(let h=0;h<it.length;h+=1){let Q=It(s,it,h),ft=ut(Q);Z.set(ft,w[h]=Ut(ft,Q))}let X=(s[0]!=="all"||s[1]!==""||s[2]!==""||s[3])&&Ht(s);return{c(){t=c("div"),e=c("table"),n=c("thead"),a=c("tr"),r=c("th"),b=k(`Time
							`),L&&L.c(),m=B(),u=c("th"),N=k(`Type
							`),v&&v.c(),Y=B(),E=c("th"),_=k(`Instrument
							`),P&&P.c(),A=B(),V=c("th"),U=k(`Qty
							`),I&&I.c(),st=B(),T=c("th"),at=k(`Avg. Price
							`),O&&O.c(),z=B(),H=c("th"),K=k(`Status
							`),$&&$.c(),tt=B(),et=c("tbody");for(let h=0;h<w.length;h+=1)w[h].c();W=B(),G=c("div"),M=c("p"),F=k("Showing "),g=c("span"),D=k(d),C=B(),nt=k(S),j=B(),X&&X.c(),this.h()},l(h){t=f(h,"DIV",{class:!0});var Q=p(t);e=f(Q,"TABLE",{class:!0});var ft=p(e);n=f(ft,"THEAD",{class:!0});var Tt=p(n);a=f(Tt,"TR",{});var ct=p(a);r=f(ct,"TH",{class:!0});var vt=p(r);b=y(vt,`Time
							`),L&&L.l(vt),vt.forEach(i),m=R(ct),u=f(ct,"TH",{class:!0});var pt=p(u);N=y(pt,`Type
							`),v&&v.l(pt),pt.forEach(i),Y=R(ct),E=f(ct,"TH",{class:!0});var bt=p(E);_=y(bt,`Instrument
							`),P&&P.l(bt),bt.forEach(i),A=R(ct),V=f(ct,"TH",{class:!0});var mt=p(V);U=y(mt,`Qty
							`),I&&I.l(mt),mt.forEach(i),st=R(ct),T=f(ct,"TH",{class:!0});var Et=p(T);at=y(Et,`Avg. Price
							`),O&&O.l(Et),Et.forEach(i),z=R(ct),H=f(ct,"TH",{class:!0});var gt=p(H);K=y(gt,`Status
							`),$&&$.l(gt),gt.forEach(i),ct.forEach(i),Tt.forEach(i),tt=R(ft),et=f(ft,"TBODY",{class:!0});var yt=p(et);for(let qt=0;qt<w.length;qt+=1)w[qt].l(yt);yt.forEach(i),ft.forEach(i),Q.forEach(i),W=R(h),G=f(h,"DIV",{class:!0});var kt=p(G);M=f(kt,"P",{class:!0});var dt=p(M);F=y(dt,"Showing "),g=f(dt,"SPAN",{class:!0});var Pt=p(g);D=y(Pt,d),Pt.forEach(i),C=R(dt),nt=y(dt,S),j=R(dt),X&&X.l(dt),dt.forEach(i),kt.forEach(i),this.h()},h(){o(r,"class","sortable svelte-6fhwbq"),o(u,"class","sortable svelte-6fhwbq"),o(E,"class","sortable svelte-6fhwbq"),o(V,"class","sortable svelte-6fhwbq"),o(T,"class","sortable svelte-6fhwbq"),o(H,"class","sortable svelte-6fhwbq"),o(n,"class","svelte-6fhwbq"),o(et,"class","svelte-6fhwbq"),o(e,"class","orders-table svelte-6fhwbq"),o(t,"class","table-container svelte-6fhwbq"),o(g,"class","count-highlight svelte-6fhwbq"),o(M,"class","results-count svelte-6fhwbq"),o(G,"class","table-footer svelte-6fhwbq")},m(h,Q){x(h,t,Q),l(t,e),l(e,n),l(n,a),l(a,r),l(r,b),L&&L.m(r,null),l(a,m),l(a,u),l(u,N),v&&v.m(u,null),l(a,Y),l(a,E),l(E,_),P&&P.m(E,null),l(a,A),l(a,V),l(V,U),I&&I.m(V,null),l(a,st),l(a,T),l(T,at),O&&O.m(T,null),l(a,z),l(a,H),l(H,K),$&&$.m(H,null),l(e,tt),l(e,et);for(let ft=0;ft<w.length;ft+=1)w[ft]&&w[ft].m(et,null);x(h,W,Q),x(h,G,Q),l(G,M),l(M,F),l(M,g),l(g,D),l(M,C),l(M,nt),l(M,j),X&&X.m(M,null),J||(q=[ot(r,"click",s[21]),ot(u,"click",s[22]),ot(E,"click",s[23]),ot(V,"click",s[24]),ot(T,"click",s[25]),ot(H,"click",s[26])],J=!0)},p(h,Q){h[4]==="order_timestamp"?L?L.p(h,Q):(L=Dt(h),L.c(),L.m(r,null)):L&&(L.d(1),L=null),h[4]==="transaction_type"?v?v.p(h,Q):(v=St(h),v.c(),v.m(u,null)):v&&(v.d(1),v=null),h[4]==="tradingsymbol"?P?P.p(h,Q):(P=Rt(h),P.c(),P.m(E,null)):P&&(P.d(1),P=null),h[4]==="quantity"?I?I.p(h,Q):(I=Bt(h),I.c(),I.m(V,null)):I&&(I.d(1),I=null),h[4]==="average_price"?O?O.p(h,Q):(O=Vt(h),O.c(),O.m(T,null)):O&&(O.d(1),O=null),h[4]==="computed_status"?$?$.p(h,Q):($=Gt(h),$.c(),$.m(H,null)):$&&($.d(1),$=null),Q&1152&&(it=Nt(h[7]),w=Kt(w,Q,ut,1,h,it,Z,et,Wt,Ut,null,It)),Q&128&&d!==(d=h[7].length+"")&&lt(D,d),Q&128&&S!==(S=h[7].length===1?"order":"orders")&&lt(nt,S),h[0]!=="all"||h[1]!==""||h[2]!==""||h[3]?X?X.p(h,Q):(X=Ht(h),X.c(),X.m(M,null)):X&&(X.d(1),X=null)},d(h){h&&(i(t),i(W),i(G)),L&&L.d(),v&&v.d(),P&&P.d(),I&&I.d(),O&&O.d(),$&&$.d();for(let Q=0;Q<w.length;Q+=1)w[Q].d();X&&X.d(),J=!1,Ct(q)}}}function te(s){let t,e,n="ðŸ“‹",a,r,b="No orders found",m,u;function N(_,A){return _[0]==="open"?ne:_[0]==="completed"?ae:se}let Y=N(s),E=Y(s);return{c(){t=c("div"),e=c("div"),e.textContent=n,a=B(),r=c("p"),r.textContent=b,m=B(),u=c("p"),E.c(),this.h()},l(_){t=f(_,"DIV",{class:!0});var A=p(t);e=f(A,"DIV",{class:!0,"data-svelte-h":!0}),rt(e)!=="svelte-1wtgaya"&&(e.textContent=n),a=R(A),r=f(A,"P",{class:!0,"data-svelte-h":!0}),rt(r)!=="svelte-1omnf5v"&&(r.textContent=b),m=R(A),u=f(A,"P",{class:!0});var V=p(u);E.l(V),V.forEach(i),A.forEach(i),this.h()},h(){o(e,"class","empty-icon svelte-6fhwbq"),o(r,"class","empty-title svelte-6fhwbq"),o(u,"class","empty-subtitle svelte-6fhwbq"),o(t,"class","empty-state svelte-6fhwbq")},m(_,A){x(_,t,A),l(t,e),l(t,a),l(t,r),l(t,m),l(t,u),E.m(u,null)},p(_,A){Y!==(Y=N(_))&&(E.d(1),E=Y(_),E&&(E.c(),E.m(u,null)))},d(_){_&&i(t),E.d()}}}function ee(s){let t,e,n="âš ï¸",a,r,b;return{c(){t=c("div"),e=c("div"),e.textContent=n,a=B(),r=c("p"),b=k(s[9]),this.h()},l(m){t=f(m,"DIV",{class:!0});var u=p(t);e=f(u,"DIV",{class:!0,"data-svelte-h":!0}),rt(e)!=="svelte-tecbtq"&&(e.textContent=n),a=R(u),r=f(u,"P",{class:!0});var N=p(r);b=y(N,s[9]),N.forEach(i),u.forEach(i),this.h()},h(){o(e,"class","error-icon svelte-6fhwbq"),o(r,"class","error-message svelte-6fhwbq"),o(t,"class","error-state svelte-6fhwbq")},m(m,u){x(m,t,u),l(t,e),l(t,a),l(t,r),l(r,b)},p(m,u){u&512&&lt(b,m[9])},d(m){m&&i(t)}}}function le(s){let t,e='<div class="spinner svelte-6fhwbq"></div> <p>Loading orders...</p>';return{c(){t=c("div"),t.innerHTML=e,this.h()},l(n){t=f(n,"DIV",{class:!0,"data-svelte-h":!0}),rt(t)!=="svelte-1uo52sk"&&(t.innerHTML=e),this.h()},h(){o(t,"class","loading-state svelte-6fhwbq")},m(n,a){x(n,t,a)},p:wt,d(n){n&&i(t)}}}function Dt(s){let t,e=s[5]==="asc"?"â†‘":"â†“",n;return{c(){t=c("span"),n=k(e),this.h()},l(a){t=f(a,"SPAN",{class:!0});var r=p(t);n=y(r,e),r.forEach(i),this.h()},h(){o(t,"class","sort-icon svelte-6fhwbq")},m(a,r){x(a,t,r),l(t,n)},p(a,r){r&32&&e!==(e=a[5]==="asc"?"â†‘":"â†“")&&lt(n,e)},d(a){a&&i(t)}}}function St(s){let t,e=s[5]==="asc"?"â†‘":"â†“",n;return{c(){t=c("span"),n=k(e),this.h()},l(a){t=f(a,"SPAN",{class:!0});var r=p(t);n=y(r,e),r.forEach(i),this.h()},h(){o(t,"class","sort-icon svelte-6fhwbq")},m(a,r){x(a,t,r),l(t,n)},p(a,r){r&32&&e!==(e=a[5]==="asc"?"â†‘":"â†“")&&lt(n,e)},d(a){a&&i(t)}}}function Rt(s){let t,e=s[5]==="asc"?"â†‘":"â†“",n;return{c(){t=c("span"),n=k(e),this.h()},l(a){t=f(a,"SPAN",{class:!0});var r=p(t);n=y(r,e),r.forEach(i),this.h()},h(){o(t,"class","sort-icon svelte-6fhwbq")},m(a,r){x(a,t,r),l(t,n)},p(a,r){r&32&&e!==(e=a[5]==="asc"?"â†‘":"â†“")&&lt(n,e)},d(a){a&&i(t)}}}function Bt(s){let t,e=s[5]==="asc"?"â†‘":"â†“",n;return{c(){t=c("span"),n=k(e),this.h()},l(a){t=f(a,"SPAN",{class:!0});var r=p(t);n=y(r,e),r.forEach(i),this.h()},h(){o(t,"class","sort-icon svelte-6fhwbq")},m(a,r){x(a,t,r),l(t,n)},p(a,r){r&32&&e!==(e=a[5]==="asc"?"â†‘":"â†“")&&lt(n,e)},d(a){a&&i(t)}}}function Vt(s){let t,e=s[5]==="asc"?"â†‘":"â†“",n;return{c(){t=c("span"),n=k(e),this.h()},l(a){t=f(a,"SPAN",{class:!0});var r=p(t);n=y(r,e),r.forEach(i),this.h()},h(){o(t,"class","sort-icon svelte-6fhwbq")},m(a,r){x(a,t,r),l(t,n)},p(a,r){r&32&&e!==(e=a[5]==="asc"?"â†‘":"â†“")&&lt(n,e)},d(a){a&&i(t)}}}function Gt(s){let t,e=s[5]==="asc"?"â†‘":"â†“",n;return{c(){t=c("span"),n=k(e),this.h()},l(a){t=f(a,"SPAN",{class:!0});var r=p(t);n=y(r,e),r.forEach(i),this.h()},h(){o(t,"class","sort-icon svelte-6fhwbq")},m(a,r){x(a,t,r),l(t,n)},p(a,r){r&32&&e!==(e=a[5]==="asc"?"â†‘":"â†“")&&lt(n,e)},d(a){a&&i(t)}}}function Ut(s,t){let e,n,a=Mt(t[27].order_timestamp)+"",r,b,m,u,N=t[27].transaction_type==="BUY"?"B":"S",Y,E,_,A,V=t[27].tradingsymbol+"",U,st,T,at,z=t[27].filled_quantity+"",H,K,tt,et,w=t[27].quantity+"",Z,W,G,M=(t[27].average_price>0?t[27].average_price.toFixed(2):t[27].price>0?t[27].price.toFixed(2):"-")+"",F,g,d,D,C=Yt(t[27])+"",S,nt,j;return{key:s,first:null,c(){e=c("tr"),n=c("td"),r=k(a),b=B(),m=c("td"),u=c("span"),Y=k(N),_=B(),A=c("td"),U=k(V),st=B(),T=c("td"),at=c("span"),H=k(z),K=B(),tt=c("span"),et=k("/"),Z=k(w),W=B(),G=c("td"),F=k(M),g=B(),d=c("td"),D=c("span"),S=k(C),j=B(),this.h()},l(J){e=f(J,"TR",{class:!0});var q=p(e);n=f(q,"TD",{class:!0});var L=p(n);r=y(L,a),L.forEach(i),b=R(q),m=f(q,"TD",{class:!0});var v=p(m);u=f(v,"SPAN",{class:!0});var P=p(u);Y=y(P,N),P.forEach(i),v.forEach(i),_=R(q),A=f(q,"TD",{class:!0});var I=p(A);U=y(I,V),I.forEach(i),st=R(q),T=f(q,"TD",{class:!0});var O=p(T);at=f(O,"SPAN",{class:!0});var $=p(at);H=y($,z),$.forEach(i),K=R(O),tt=f(O,"SPAN",{class:!0});var it=p(tt);et=y(it,"/"),Z=y(it,w),it.forEach(i),O.forEach(i),W=R(q),G=f(q,"TD",{class:!0});var ut=p(G);F=y(ut,M),ut.forEach(i),g=R(q),d=f(q,"TD",{class:!0});var X=p(d);D=f(X,"SPAN",{class:!0});var h=p(D);S=y(h,C),h.forEach(i),X.forEach(i),j=R(q),q.forEach(i),this.h()},h(){o(n,"class","time-cell svelte-6fhwbq"),o(u,"class",E="transaction-badge "+(t[27].transaction_type==="BUY"?"buy":"sell")+" svelte-6fhwbq"),o(m,"class","svelte-6fhwbq"),o(A,"class","instrument-cell svelte-6fhwbq"),o(at,"class","quantity-filled svelte-6fhwbq"),o(tt,"class","quantity-total svelte-6fhwbq"),o(T,"class","quantity-cell svelte-6fhwbq"),o(G,"class","price-cell svelte-6fhwbq"),o(D,"class",nt="status-badge "+(t[10][t[27].computed_status]||"badge-secondary")+" svelte-6fhwbq"),o(d,"class","svelte-6fhwbq"),o(e,"class","svelte-6fhwbq"),this.first=e},m(J,q){x(J,e,q),l(e,n),l(n,r),l(e,b),l(e,m),l(m,u),l(u,Y),l(e,_),l(e,A),l(A,U),l(e,st),l(e,T),l(T,at),l(at,H),l(T,K),l(T,tt),l(tt,et),l(tt,Z),l(e,W),l(e,G),l(G,F),l(e,g),l(e,d),l(d,D),l(D,S),l(e,j)},p(J,q){t=J,q&128&&a!==(a=Mt(t[27].order_timestamp)+"")&&lt(r,a),q&128&&N!==(N=t[27].transaction_type==="BUY"?"B":"S")&&lt(Y,N),q&128&&E!==(E="transaction-badge "+(t[27].transaction_type==="BUY"?"buy":"sell")+" svelte-6fhwbq")&&o(u,"class",E),q&128&&V!==(V=t[27].tradingsymbol+"")&&lt(U,V),q&128&&z!==(z=t[27].filled_quantity+"")&&lt(H,z),q&128&&w!==(w=t[27].quantity+"")&&lt(Z,w),q&128&&M!==(M=(t[27].average_price>0?t[27].average_price.toFixed(2):t[27].price>0?t[27].price.toFixed(2):"-")+"")&&lt(F,M),q&128&&C!==(C=Yt(t[27])+"")&&lt(S,C),q&128&&nt!==(nt="status-badge "+(t[10][t[27].computed_status]||"badge-secondary")+" svelte-6fhwbq")&&o(D,"class",nt)},d(J){J&&i(e)}}}function Ht(s){let t,e,n=s[6].length+"",a,r;return{c(){t=k("of "),e=c("span"),a=k(n),r=k(" total"),this.h()},l(b){t=y(b,"of "),e=f(b,"SPAN",{class:!0});var m=p(e);a=y(m,n),m.forEach(i),r=y(b," total"),this.h()},h(){o(e,"class","count-highlight svelte-6fhwbq")},m(b,m){x(b,t,m),x(b,e,m),l(e,a),x(b,r,m)},p(b,m){m&64&&n!==(n=b[6].length+"")&&lt(a,n)},d(b){b&&(i(t),i(e),i(r))}}}function se(s){let t;return{c(){t=k("Try adjusting your filters")},l(e){t=y(e,"Try adjusting your filters")},m(e,n){x(e,t,n)},d(e){e&&i(t)}}}function ae(s){let t;return{c(){t=k("You don't have any completed orders today")},l(e){t=y(e,"You don't have any completed orders today")},m(e,n){x(e,t,n)},d(e){e&&i(t)}}}function ne(s){let t;return{c(){t=k("You don't have any open orders")},l(e){t=y(e,"You don't have any open orders")},m(e,n){x(e,t,n)},d(e){e&&i(t)}}}function re(s){let t,e,n,a,r="ðŸ“‹ Orders",b,m,u,N="ðŸ”„ Refresh",Y,E,_,A,V=s[6].filter(jt).length+"",U,st,T,at,z,H,K=s[6].filter(zt).length+"",tt,et,w,Z,W,G,M=s[6].length+"",F,g,d,D,C,S,nt,j=s[0]==="all"&&Ot(s);function J(v,P){return v[8]?le:v[9]?ee:v[7].length===0?te:xt}let q=J(s),L=q(s);return{c(){t=B(),e=c("div"),n=c("div"),a=c("h2"),a.textContent=r,b=B(),m=c("div"),u=c("button"),u.textContent=N,Y=B(),E=c("div"),_=c("button"),A=k("Open ("),U=k(V),st=k(")"),at=B(),z=c("button"),H=k("Complete ("),tt=k(K),et=k(")"),Z=B(),W=c("button"),G=k("All ("),F=k(M),g=k(")"),D=B(),j&&j.c(),C=B(),L.c(),this.h()},l(v){Jt("svelte-1lzd1rn",document.head).forEach(i),t=R(v),e=f(v,"DIV",{class:!0});var I=p(e);n=f(I,"DIV",{class:!0});var O=p(n);a=f(O,"H2",{class:!0,"data-svelte-h":!0}),rt(a)!=="svelte-ng1vqx"&&(a.textContent=r),b=R(O),m=f(O,"DIV",{class:!0});var $=p(m);u=f($,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),rt(u)!=="svelte-ba2jhn"&&(u.textContent=N),$.forEach(i),O.forEach(i),Y=R(I),E=f(I,"DIV",{class:!0});var it=p(E);_=f(it,"BUTTON",{class:!0});var ut=p(_);A=y(ut,"Open ("),U=y(ut,V),st=y(ut,")"),ut.forEach(i),at=R(it),z=f(it,"BUTTON",{class:!0});var X=p(z);H=y(X,"Complete ("),tt=y(X,K),et=y(X,")"),X.forEach(i),Z=R(it),W=f(it,"BUTTON",{class:!0});var h=p(W);G=y(h,"All ("),F=y(h,M),g=y(h,")"),h.forEach(i),it.forEach(i),D=R(I),j&&j.l(I),C=R(I),L.l(I),I.forEach(i),this.h()},h(){document.title="Orders - Live Trading",o(a,"class","svelte-6fhwbq"),o(u,"class","btn-refresh svelte-6fhwbq"),o(u,"title","Refresh orders"),o(m,"class","header-actions svelte-6fhwbq"),o(n,"class","panel-header svelte-6fhwbq"),o(_,"class",T="tab "+(s[0]==="open"?"active":"")+" svelte-6fhwbq"),o(z,"class",w="tab "+(s[0]==="completed"?"active":"")+" svelte-6fhwbq"),o(W,"class",d="tab "+(s[0]==="all"?"active":"")+" svelte-6fhwbq"),o(E,"class","tabs svelte-6fhwbq"),o(e,"class","orders-panel svelte-6fhwbq")},m(v,P){x(v,t,P),x(v,e,P),l(e,n),l(n,a),l(n,b),l(n,m),l(m,u),l(e,Y),l(e,E),l(E,_),l(_,A),l(_,U),l(_,st),l(E,at),l(E,z),l(z,H),l(z,tt),l(z,et),l(E,Z),l(E,W),l(W,G),l(W,F),l(W,g),l(e,D),j&&j.m(e,null),l(e,C),L.m(e,null),S||(nt=[ot(u,"click",s[11]),ot(_,"click",s[15]),ot(z,"click",s[16]),ot(W,"click",s[17])],S=!0)},p(v,[P]){P&64&&V!==(V=v[6].filter(jt).length+"")&&lt(U,V),P&1&&T!==(T="tab "+(v[0]==="open"?"active":"")+" svelte-6fhwbq")&&o(_,"class",T),P&64&&K!==(K=v[6].filter(zt).length+"")&&lt(tt,K),P&1&&w!==(w="tab "+(v[0]==="completed"?"active":"")+" svelte-6fhwbq")&&o(z,"class",w),P&64&&M!==(M=v[6].length+"")&&lt(F,M),P&1&&d!==(d="tab "+(v[0]==="all"?"active":"")+" svelte-6fhwbq")&&o(W,"class",d),v[0]==="all"?j?j.p(v,P):(j=Ot(v),j.c(),j.m(e,C)):j&&(j.d(1),j=null),q===(q=J(v))&&L?L.p(v,P):(L.d(1),L=q(v),L&&(L.c(),L.m(e,null)))},i:wt,o:wt,d(v){v&&(i(t),i(e)),j&&j.d(),L.d(),S=!1,Ct(nt)}}}function oe(s){return s.filled_quantity>0&&s.filled_quantity<s.quantity?"PARTIAL":s.status}function Mt(s){return s?new Date(s).toLocaleTimeString("en-US",{hour12:!1}):"-"}function Yt(s){return s.computed_status==="PARTIAL"?`PARTIAL (${s.pending_quantity} remaining)`:s.status}const jt=s=>s.status==="OPEN"||s.status==="TRIGGER PENDING"||s.computed_status==="PARTIAL",zt=s=>s.status==="COMPLETE";function ie(s,t,e){let n=[],a=[],r=!0,b=null,m="open",u="",N="",Y="",E="order_timestamp",_="desc";const A={COMPLETE:"badge-success",OPEN:"badge-primary",CANCELLED:"badge-danger",REJECTED:"badge-danger","TRIGGER PENDING":"badge-warning",PARTIAL:"badge-warning"};Qt(async()=>{await V()});async function V(){var g,d;e(8,r=!0),e(9,b=null);try{const D=await $t.getOrders("kite");e(6,n=(D.data||[]).map(C=>({...C,computed_status:oe(C)}))),U()}catch(D){console.error("Error loading orders:",D),e(9,b=((d=(g=D.response)==null?void 0:g.data)==null?void 0:d.detail)||D.message||"Failed to load orders")}finally{e(8,r=!1)}}function U(){let g=[...n];if(m==="open")g=g.filter(d=>d.status==="OPEN"||d.status==="TRIGGER PENDING"||d.computed_status==="PARTIAL");else if(m==="completed")g=g.filter(d=>d.status==="COMPLETE");else if(m==="all"&&(u!==""&&(u==="OPEN"?g=g.filter(d=>d.status==="OPEN"||d.status==="TRIGGER PENDING"):u==="COMPLETE"?g=g.filter(d=>d.status==="COMPLETE"):u==="CANCELLED"?g=g.filter(d=>d.status==="CANCELLED"):u==="REJECTED"?g=g.filter(d=>d.status==="REJECTED"):u==="PARTIAL"&&(g=g.filter(d=>d.computed_status==="PARTIAL"))),N!==""&&(g=g.filter(d=>d.transaction_type===N)),Y)){const d=Y.toLowerCase();g=g.filter(D=>{var C,S,nt;return((C=D.tradingsymbol)==null?void 0:C.toLowerCase().includes(d))||((S=D.order_id)==null?void 0:S.toLowerCase().includes(d))||((nt=D.tag)==null?void 0:nt.toLowerCase().includes(d))})}g.sort((d,D)=>{let C=d[E],S=D[E];return C==null&&(C=""),S==null&&(S=""),E==="order_timestamp"||E==="exchange_timestamp"?(C=new Date(C).getTime()||0,S=new Date(S).getTime()||0):typeof C=="string"&&(C=C.toLowerCase(),S=S.toLowerCase()),_==="asc"?C>S?1:C<S?-1:0:C<S?1:C>S?-1:0}),e(7,a=g)}function st(g){e(0,m=g),g!=="all"&&(e(1,u=""),e(2,N=""),e(3,Y="")),U()}function T(g){E===g?e(5,_=_==="asc"?"desc":"asc"):(e(4,E=g),e(5,_="desc")),U()}const at=()=>st("open"),z=()=>st("completed"),H=()=>st("all");function K(){Y=this.value,e(3,Y)}function tt(){N=Lt(this),e(2,N)}function et(){u=Lt(this),e(1,u)}const w=()=>T("order_timestamp"),Z=()=>T("transaction_type"),W=()=>T("tradingsymbol"),G=()=>T("quantity"),M=()=>T("average_price"),F=()=>T("computed_status");return s.$$.update=()=>{s.$$.dirty&63&&U()},[m,u,N,Y,E,_,n,a,r,b,A,V,U,st,T,at,z,H,K,tt,et,w,Z,W,G,M,F]}class de extends Xt{constructor(t){super(),Zt(this,t,ie,re,Ft,{})}}export{de as component};
