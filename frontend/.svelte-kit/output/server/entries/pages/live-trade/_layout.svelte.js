import { c as create_ssr_component, a as subscribe, o as onDestroy } from "../../../chunks/ssr.js";
import { p as page } from "../../../chunks/stores.js";
const css = {
  code: ".live-trade-layout.svelte-1yv13ag.svelte-1yv13ag{display:flex;flex-direction:column;gap:1.5rem;max-width:2000px;margin:0 auto}.sub-nav.svelte-1yv13ag.svelte-1yv13ag{background:white;border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,0.1);overflow:hidden}.sub-nav-header.svelte-1yv13ag.svelte-1yv13ag{padding:1.5rem 2rem;background:linear-gradient(135deg, #ef4444 0%, #dc2626 100%);color:white}.sub-nav-header.svelte-1yv13ag h2.svelte-1yv13ag{margin:0;font-size:1.5rem;font-weight:700}.sub-nav-header.svelte-1yv13ag p.svelte-1yv13ag{margin:0.25rem 0 0 0;font-size:0.875rem;opacity:0.9}.sub-nav-links.svelte-1yv13ag.svelte-1yv13ag{display:flex;padding:0.5rem;gap:0.5rem;border-bottom:1px solid #e5e7eb;overflow-x:auto}.nav-link.svelte-1yv13ag.svelte-1yv13ag{display:flex;align-items:center;gap:0.5rem;padding:0.75rem 1.5rem;border-radius:8px;text-decoration:none;color:#6b7280;font-weight:500;transition:all 0.2s;white-space:nowrap}.nav-link.svelte-1yv13ag.svelte-1yv13ag:hover{background:#f3f4f6;color:#374151}.nav-link.active.svelte-1yv13ag.svelte-1yv13ag{background:#fef2f2;color:#dc2626;font-weight:600}.nav-link.svelte-1yv13ag .icon.svelte-1yv13ag{font-size:1.25rem}.page-content.svelte-1yv13ag.svelte-1yv13ag{flex:1}@media(max-width: 768px){.sub-nav-links.svelte-1yv13ag.svelte-1yv13ag{padding:0.5rem}.nav-link.svelte-1yv13ag.svelte-1yv13ag{padding:0.5rem 1rem;font-size:0.875rem}}",
  map: `{"version":3,"file":"+layout.svelte","sources":["+layout.svelte"],"sourcesContent":["<script>\\n\\timport { onMount, onDestroy } from 'svelte';\\n\\timport { page } from '$app/stores';\\n\\timport { \\n\\t\\tliveStatus, \\n\\t\\tpositions, \\n\\t\\tstatistics, \\n\\t\\tindicators, \\n\\t\\tnotifications, \\n\\t\\tconfigs,\\n\\t\\tcurrentConfig \\n\\t} from './stores.js';\\n\\t\\n\\t$: currentPath = $page.url.pathname;\\n\\t\\n\\tlet ws;\\n\\tlet wsConnected = false;\\n\\tlet updateInterval;\\n\\t\\n\\t// API Base URL\\n\\tconst API_URL = 'http://localhost:8000/api/live-trading';\\n\\tconst WS_URL = 'ws://localhost:8000/ws';\\n\\t\\n\\tonMount(async () => {\\n\\t\\t// Load configs\\n\\t\\tawait loadConfigs();\\n\\t\\t\\n\\t\\t// Connect WebSocket\\n\\t\\tconnectWebSocket();\\n\\t\\t\\n\\t\\t// Start periodic updates\\n\\t\\tupdateInterval = setInterval(async () => {\\n\\t\\t\\tawait refreshData();\\n\\t\\t}, 2000); // Update every 2 seconds\\n\\t\\t\\n\\t\\t// Initial data load\\n\\t\\tawait refreshData();\\n\\t});\\n\\t\\n\\tonDestroy(() => {\\n\\t\\tif (ws) {\\n\\t\\t\\tws.close();\\n\\t\\t}\\n\\t\\tif (updateInterval) {\\n\\t\\t\\tclearInterval(updateInterval);\\n\\t\\t}\\n\\t});\\n\\t\\n\\tasync function loadConfigs() {\\n\\t\\ttry {\\n\\t\\t\\tconst response = await fetch(\`\${API_URL}/configs\`);\\n\\t\\t\\tconst data = await response.json();\\n\\t\\t\\tconfigs.set(data);\\n\\t\\t} catch (error) {\\n\\t\\t\\tconsole.error('Error loading configs:', error);\\n\\t\\t}\\n\\t}\\n\\t\\n\\tasync function refreshData() {\\n\\t\\ttry {\\n\\t\\t\\t// Get status\\n\\t\\t\\tconst statusRes = await fetch(\`\${API_URL}/status\`);\\n\\t\\t\\tconst statusData = await statusRes.json();\\n\\t\\t\\tliveStatus.set(statusData);\\n\\t\\t\\t\\n\\t\\t\\tif (statusData.config_id) {\\n\\t\\t\\t\\t// Get positions\\n\\t\\t\\t\\tconst positionsRes = await fetch(\`\${API_URL}/positions?config_id=\${statusData.config_id}\`);\\n\\t\\t\\t\\tconst positionsData = await positionsRes.json();\\n\\t\\t\\t\\tpositions.set(positionsData);\\n\\t\\t\\t\\t\\n\\t\\t\\t\\t// Get statistics\\n\\t\\t\\t\\tconst statsRes = await fetch(\`\${API_URL}/statistics?config_id=\${statusData.config_id}\`);\\n\\t\\t\\t\\tconst statsData = await statsRes.json();\\n\\t\\t\\t\\tstatistics.set(statsData);\\n\\t\\t\\t\\t\\n\\t\\t\\t\\t// Get indicators\\n\\t\\t\\t\\tconst indicatorsRes = await fetch(\`\${API_URL}/indicators\`);\\n\\t\\t\\t\\tconst indicatorsData = await indicatorsRes.json();\\n\\t\\t\\t\\tindicators.set(indicatorsData);\\n\\t\\t\\t\\t\\n\\t\\t\\t\\t// Get notifications\\n\\t\\t\\t\\tconst notificationsRes = await fetch(\`\${API_URL}/notifications?config_id=\${statusData.config_id}&limit=100\`);\\n\\t\\t\\t\\tconst notificationsData = await notificationsRes.json();\\n\\t\\t\\t\\tnotifications.set(notificationsData);\\n\\t\\t\\t}\\n\\t\\t} catch (error) {\\n\\t\\t\\tconsole.error('Error refreshing data:', error);\\n\\t\\t}\\n\\t}\\n\\t\\n\\tfunction connectWebSocket() {\\n\\t\\tws = new WebSocket(WS_URL);\\n\\t\\t\\n\\t\\tws.onopen = () => {\\n\\t\\t\\tconsole.log('WebSocket connected');\\n\\t\\t\\twsConnected = true;\\n\\t\\t};\\n\\t\\t\\n\\t\\tws.onmessage = (event) => {\\n\\t\\t\\ttry {\\n\\t\\t\\t\\tconst message = JSON.parse(event.data);\\n\\t\\t\\t\\thandleWebSocketMessage(message);\\n\\t\\t\\t} catch (error) {\\n\\t\\t\\t\\tconsole.error('Error parsing WebSocket message:', error);\\n\\t\\t\\t}\\n\\t\\t};\\n\\t\\t\\n\\t\\tws.onerror = (error) => {\\n\\t\\t\\tconsole.error('WebSocket error:', error);\\n\\t\\t\\twsConnected = false;\\n\\t\\t};\\n\\t\\t\\n\\t\\tws.onclose = () => {\\n\\t\\t\\tconsole.log('WebSocket disconnected');\\n\\t\\t\\twsConnected = false;\\n\\t\\t\\t\\n\\t\\t\\t// Reconnect after 3 seconds\\n\\t\\t\\tsetTimeout(() => {\\n\\t\\t\\t\\tif (!wsConnected) {\\n\\t\\t\\t\\t\\tconnectWebSocket();\\n\\t\\t\\t\\t}\\n\\t\\t\\t}, 3000);\\n\\t\\t};\\n\\t}\\n\\t\\n\\tfunction handleWebSocketMessage(message) {\\n\\t\\tswitch (message.type) {\\n\\t\\t\\tcase 'notification':\\n\\t\\t\\t\\t// Add new notification to the top\\n\\t\\t\\t\\tnotifications.update(n => [message.data, ...n]);\\n\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\n\\t\\t\\tcase 'position_update':\\n\\t\\t\\t\\t// Update positions\\n\\t\\t\\t\\trefreshData();\\n\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\n\\t\\t\\tcase 'market_data':\\n\\t\\t\\t\\t// Update indicators\\n\\t\\t\\t\\tconst data = message.data;\\n\\t\\t\\t\\tif (data && data.instrument_token === '256265') { // NIFTY\\n\\t\\t\\t\\t\\tindicators.update(i => ({\\n\\t\\t\\t\\t\\t\\t...i,\\n\\t\\t\\t\\t\\t\\tnifty_ltp: data.last_price || i.nifty_ltp\\n\\t\\t\\t\\t\\t}));\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\n\\t\\t\\tcase 'tick':\\n\\t\\t\\t\\t// Handle tick data\\n\\t\\t\\t\\trefreshData();\\n\\t\\t\\t\\tbreak;\\n\\t\\t}\\n\\t}\\n<\/script>\\n\\n<div class=\\"live-trade-layout\\">\\n\\t<!-- Sub Navigation -->\\n\\t<div class=\\"sub-nav\\">\\n\\t\\t<div class=\\"sub-nav-header\\">\\n\\t\\t\\t<h2>ğŸ”´ Live Trading</h2>\\n\\t\\t\\t<p>Real-time automated trading system</p>\\n\\t\\t</div>\\n\\t\\t\\n\\t\\t<nav class=\\"sub-nav-links\\">\\n\\t\\t\\t<a \\n\\t\\t\\t\\thref=\\"/live-trade\\" \\n\\t\\t\\t\\tclass=\\"nav-link\\" \\n\\t\\t\\t\\tclass:active={currentPath === '/live-trade'}\\n\\t\\t\\t>\\n\\t\\t\\t\\t<span class=\\"icon\\">ğŸ“Š</span>\\n\\t\\t\\t\\t<span>Dashboard</span>\\n\\t\\t\\t</a>\\n\\t\\t\\t<a \\n\\t\\t\\t\\thref=\\"/live-trade/positions\\" \\n\\t\\t\\t\\tclass=\\"nav-link\\"\\n\\t\\t\\t\\tclass:active={currentPath === '/live-trade/positions'}\\n\\t\\t\\t>\\n\\t\\t\\t\\t<span class=\\"icon\\">ğŸ’¼</span>\\n\\t\\t\\t\\t<span>Positions</span>\\n\\t\\t\\t</a>\\n\\t\\t\\t<a \\n\\t\\t\\t\\thref=\\"/live-trade/orders\\" \\n\\t\\t\\t\\tclass=\\"nav-link\\"\\n\\t\\t\\t\\tclass:active={currentPath === '/live-trade/orders'}\\n\\t\\t\\t>\\n\\t\\t\\t\\t<span class=\\"icon\\">ğŸ“‹</span>\\n\\t\\t\\t\\t<span>Orders</span>\\n\\t\\t\\t</a>\\n\\t\\t\\t<a \\n\\t\\t\\t\\thref=\\"/live-trade/signals\\" \\n\\t\\t\\t\\tclass=\\"nav-link\\"\\n\\t\\t\\t\\tclass:active={currentPath === '/live-trade/signals'}\\n\\t\\t\\t>\\n\\t\\t\\t\\t<span class=\\"icon\\">ğŸ“ˆ</span>\\n\\t\\t\\t\\t<span>Signals</span>\\n\\t\\t\\t</a>\\n\\t\\t\\t<a \\n\\t\\t\\t\\thref=\\"/live-trade/analytics\\" \\n\\t\\t\\t\\tclass=\\"nav-link\\"\\n\\t\\t\\t\\tclass:active={currentPath === '/live-trade/analytics'}\\n\\t\\t\\t>\\n\\t\\t\\t\\t<span class=\\"icon\\">ğŸ“‰</span>\\n\\t\\t\\t\\t<span>Analytics</span>\\n\\t\\t\\t</a>\\n\\t\\t\\t<a \\n\\t\\t\\t\\thref=\\"/live-trade/settings\\" \\n\\t\\t\\t\\tclass=\\"nav-link\\"\\n\\t\\t\\t\\tclass:active={currentPath === '/live-trade/settings'}\\n\\t\\t\\t>\\n\\t\\t\\t\\t<span class=\\"icon\\">âš™ï¸</span>\\n\\t\\t\\t\\t<span>Settings</span>\\n\\t\\t\\t</a>\\n\\t\\t</nav>\\n\\t</div>\\n\\t\\n\\t<!-- Page Content -->\\n\\t<div class=\\"page-content\\">\\n\\t\\t<slot />\\n\\t</div>\\n</div>\\n\\n<style>\\n\\t.live-trade-layout {\\n\\t\\tdisplay: flex;\\n\\t\\tflex-direction: column;\\n\\t\\tgap: 1.5rem;\\n\\t\\tmax-width: 2000px;\\n\\t\\tmargin: 0 auto;\\n\\t}\\n\\t\\n\\t.sub-nav {\\n\\t\\tbackground: white;\\n\\t\\tborder-radius: 12px;\\n\\t\\tbox-shadow: 0 2px 8px rgba(0,0,0,0.1);\\n\\t\\toverflow: hidden;\\n\\t}\\n\\t\\n\\t.sub-nav-header {\\n\\t\\tpadding: 1.5rem 2rem;\\n\\t\\tbackground: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);\\n\\t\\tcolor: white;\\n\\t}\\n\\t\\n\\t.sub-nav-header h2 {\\n\\t\\tmargin: 0;\\n\\t\\tfont-size: 1.5rem;\\n\\t\\tfont-weight: 700;\\n\\t}\\n\\t\\n\\t.sub-nav-header p {\\n\\t\\tmargin: 0.25rem 0 0 0;\\n\\t\\tfont-size: 0.875rem;\\n\\t\\topacity: 0.9;\\n\\t}\\n\\t\\n\\t.sub-nav-links {\\n\\t\\tdisplay: flex;\\n\\t\\tpadding: 0.5rem;\\n\\t\\tgap: 0.5rem;\\n\\t\\tborder-bottom: 1px solid #e5e7eb;\\n\\t\\toverflow-x: auto;\\n\\t}\\n\\t\\n\\t.nav-link {\\n\\t\\tdisplay: flex;\\n\\t\\talign-items: center;\\n\\t\\tgap: 0.5rem;\\n\\t\\tpadding: 0.75rem 1.5rem;\\n\\t\\tborder-radius: 8px;\\n\\t\\ttext-decoration: none;\\n\\t\\tcolor: #6b7280;\\n\\t\\tfont-weight: 500;\\n\\t\\ttransition: all 0.2s;\\n\\t\\twhite-space: nowrap;\\n\\t}\\n\\t\\n\\t.nav-link:hover {\\n\\t\\tbackground: #f3f4f6;\\n\\t\\tcolor: #374151;\\n\\t}\\n\\t\\n\\t.nav-link.active {\\n\\t\\tbackground: #fef2f2;\\n\\t\\tcolor: #dc2626;\\n\\t\\tfont-weight: 600;\\n\\t}\\n\\t\\n\\t.nav-link .icon {\\n\\t\\tfont-size: 1.25rem;\\n\\t}\\n\\t\\n\\t.page-content {\\n\\t\\tflex: 1;\\n\\t}\\n\\t\\n\\t@media (max-width: 768px) {\\n\\t\\t.sub-nav-links {\\n\\t\\t\\tpadding: 0.5rem;\\n\\t\\t}\\n\\t\\t\\n\\t\\t.nav-link {\\n\\t\\t\\tpadding: 0.5rem 1rem;\\n\\t\\t\\tfont-size: 0.875rem;\\n\\t\\t}\\n\\t}\\n</style>\\n"],"names":[],"mappings":"AAgOC,gDAAmB,CAClB,OAAO,CAAE,IAAI,CACb,cAAc,CAAE,MAAM,CACtB,GAAG,CAAE,MAAM,CACX,SAAS,CAAE,MAAM,CACjB,MAAM,CAAE,CAAC,CAAC,IACX,CAEA,sCAAS,CACR,UAAU,CAAE,KAAK,CACjB,aAAa,CAAE,IAAI,CACnB,UAAU,CAAE,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CACrC,QAAQ,CAAE,MACX,CAEA,6CAAgB,CACf,OAAO,CAAE,MAAM,CAAC,IAAI,CACpB,UAAU,CAAE,gBAAgB,MAAM,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAC7D,KAAK,CAAE,KACR,CAEA,8BAAe,CAAC,iBAAG,CAClB,MAAM,CAAE,CAAC,CACT,SAAS,CAAE,MAAM,CACjB,WAAW,CAAE,GACd,CAEA,8BAAe,CAAC,gBAAE,CACjB,MAAM,CAAE,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CACrB,SAAS,CAAE,QAAQ,CACnB,OAAO,CAAE,GACV,CAEA,4CAAe,CACd,OAAO,CAAE,IAAI,CACb,OAAO,CAAE,MAAM,CACf,GAAG,CAAE,MAAM,CACX,aAAa,CAAE,GAAG,CAAC,KAAK,CAAC,OAAO,CAChC,UAAU,CAAE,IACb,CAEA,uCAAU,CACT,OAAO,CAAE,IAAI,CACb,WAAW,CAAE,MAAM,CACnB,GAAG,CAAE,MAAM,CACX,OAAO,CAAE,OAAO,CAAC,MAAM,CACvB,aAAa,CAAE,GAAG,CAClB,eAAe,CAAE,IAAI,CACrB,KAAK,CAAE,OAAO,CACd,WAAW,CAAE,GAAG,CAChB,UAAU,CAAE,GAAG,CAAC,IAAI,CACpB,WAAW,CAAE,MACd,CAEA,uCAAS,MAAO,CACf,UAAU,CAAE,OAAO,CACnB,KAAK,CAAE,OACR,CAEA,SAAS,qCAAQ,CAChB,UAAU,CAAE,OAAO,CACnB,KAAK,CAAE,OAAO,CACd,WAAW,CAAE,GACd,CAEA,wBAAS,CAAC,oBAAM,CACf,SAAS,CAAE,OACZ,CAEA,2CAAc,CACb,IAAI,CAAE,CACP,CAEA,MAAO,YAAY,KAAK,CAAE,CACzB,4CAAe,CACd,OAAO,CAAE,MACV,CAEA,uCAAU,CACT,OAAO,CAAE,MAAM,CAAC,IAAI,CACpB,SAAS,CAAE,QACZ,CACD"}`
};
const Layout = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let currentPath;
  let $page, $$unsubscribe_page;
  $$unsubscribe_page = subscribe(page, (value) => $page = value);
  onDestroy(() => {
  });
  $$result.css.add(css);
  currentPath = $page.url.pathname;
  $$unsubscribe_page();
  return `<div class="live-trade-layout svelte-1yv13ag"> <div class="sub-nav svelte-1yv13ag"><div class="sub-nav-header svelte-1yv13ag" data-svelte-h="svelte-1j1qbd5"><h2 class="svelte-1yv13ag">ğŸ”´ Live Trading</h2> <p class="svelte-1yv13ag">Real-time automated trading system</p></div> <nav class="sub-nav-links svelte-1yv13ag"><a href="/live-trade" class="${["nav-link svelte-1yv13ag", currentPath === "/live-trade" ? "active" : ""].join(" ").trim()}" data-svelte-h="svelte-1qibeji"><span class="icon svelte-1yv13ag">ğŸ“Š</span> <span>Dashboard</span></a> <a href="/live-trade/positions" class="${[
    "nav-link svelte-1yv13ag",
    currentPath === "/live-trade/positions" ? "active" : ""
  ].join(" ").trim()}" data-svelte-h="svelte-1j92dxc"><span class="icon svelte-1yv13ag">ğŸ’¼</span> <span>Positions</span></a> <a href="/live-trade/orders" class="${[
    "nav-link svelte-1yv13ag",
    currentPath === "/live-trade/orders" ? "active" : ""
  ].join(" ").trim()}" data-svelte-h="svelte-142s6x0"><span class="icon svelte-1yv13ag">ğŸ“‹</span> <span>Orders</span></a> <a href="/live-trade/signals" class="${[
    "nav-link svelte-1yv13ag",
    currentPath === "/live-trade/signals" ? "active" : ""
  ].join(" ").trim()}" data-svelte-h="svelte-siqdov"><span class="icon svelte-1yv13ag">ğŸ“ˆ</span> <span>Signals</span></a> <a href="/live-trade/analytics" class="${[
    "nav-link svelte-1yv13ag",
    currentPath === "/live-trade/analytics" ? "active" : ""
  ].join(" ").trim()}" data-svelte-h="svelte-cf7i97"><span class="icon svelte-1yv13ag">ğŸ“‰</span> <span>Analytics</span></a> <a href="/live-trade/settings" class="${[
    "nav-link svelte-1yv13ag",
    currentPath === "/live-trade/settings" ? "active" : ""
  ].join(" ").trim()}" data-svelte-h="svelte-1ea4gfc"><span class="icon svelte-1yv13ag">âš™ï¸</span> <span>Settings</span></a></nav></div>  <div class="page-content svelte-1yv13ag">${slots.default ? slots.default({}) : ``}</div> </div>`;
});
export {
  Layout as default
};
